import{_ as g}from"./CommandForm.vue_vue_type_script_setup_true_lang.05c1d1b3.js";import{e as y}from"./order-list.31611d4b.js";import{d as v,a as k,bO as C,B as D,Z as l,i as E,o as w,e as B,f as e,j as _,k as f,z as m,t as u,F,bV as N}from"./index.3390162f.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang.fe21b651.js";import"./UploadFile.vue_vue_type_style_index_0_lang.f7f83f37.js";import"./index.30e99442.js";import"./helper.569bc08f.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";const O={pagetitle:"'Malaka oshirish'",class:"create-order-page"},j={class:"card panel-header-bg"},V={class:"card-body"},$={class:"panel-header"},z={class:"card-title"},S={class:"panel-toggles"},x={class:"btns black-c py-1.5 px-4",type:"submit"},q=e("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),I={class:"card"},L={class:"card-body"},R=v({__name:"create-order",setup(M){const{t:a}=k(),i=C(),c=D(!1);l({});const o=l({name:"",target:"",body:"",date:"",number:"",file:null,status:!0,command_type_id:null,department_id:null,conclusion:""}),r=l({name:[],target:[],body:[],date:[],number:[],file:[],status:[],command_type_id:[],department_id:[],conclusion:""});async function h(){var s,d;try{c.value=!0,Object.assign(r,{});const t=new FormData;Object.getOwnPropertyNames(o).forEach(n=>{!["id","citizenship","user_id"].includes(n)&&o[n]&&t.append(n,o[n])});const p=await y(t);i.success(a("success_created")),N.back()}catch(t){Object.assign(r,(d=(s=t.response)==null?void 0:s.data)==null?void 0:d.errors),t.response.status==422?i.error(a("Dashboard_Error")+": "+a("Fill_in_the_required_fields")):i.error(a("Dashboard_Error")+": "+t.message)}finally{c.value=!1}}function b(s){r[s]=[]}return(s,d)=>{const t=E("router-link"),p=g;return w(),B(F,null,[e("div",O,[e("div",j,[e("div",V,[e("div",$,[e("h5",z,[_(t,{to:"/status-student/order-list"},{default:f(()=>[m(u(s.$t("Decree"))+" / ",1)]),_:1}),m(" "+u(s.$t("create__order")),1)]),e("div",S,[_(t,{to:"/status-student/order-list"},{default:f(()=>[e("button",x,[q,m(u(s.$t("Back")),1)])]),_:1})])])])])]),e("div",I,[e("div",L,[_(p,{"form-state":o,errors:r,"is-loading":c.value,onSubmit:h,onClearError:b},null,8,["form-state","errors","is-loading"])])])],64)}}});export{R as default};
