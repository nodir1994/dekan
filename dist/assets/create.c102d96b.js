import{_ as v}from"./StudentForm.vue_vue_type_script_setup_true_lang.09f22a4a.js";import{a as b}from"./create.451c2cea.js";import{d as w,a as z,bO as k,B as u,Z as p,i as S,o as B,e as C,f as a,j as d,k as m,z as l,t as r,bV as N}from"./index.3390162f.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang.fe21b651.js";import"./AvatarInput.vue_vue_type_style_index_0_lang.6e259ab2.js";import"./index.30e99442.js";import"./helper.569bc08f.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";const O={pagetitle:"`Talaba yaratish`",class:"create-student-page"},j={class:"card panel-header-bg"},D={class:"card-body"},E={class:"panel-header"},V={class:"card-title"},$={class:"panel-toggles"},x=a("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),F={class:"card"},T={class:"card-body"},M=w({__name:"create",setup(I){const{t:f}=z(),h=k(),i=u(!1),n=p({faculty_id:null,specialty_id:null,date_start:null,payment_type_id:null,acceptance_id:null,citizenship_id:null,passport_issue_date:null,pinfl:null,passport:"",surname:"",name:"",last_name:"",birthdate:null,gender:null,nation_id:null,social_category_id:null,student_category_id:null,date_end:null,old_educational_name:{uz:"",ru:"",en:""},document_seria:"",document_number:"",country_id:null,region_id:null,now_district_id:null,address_home:"",live_place_id:null,now_region_id:null,district_id:null,now_address:"",count_of_people_living:null,category_live_together_id:null,residence_place_status:null,email:"",phone:"",phone_father:"",phone_person:"",student_status_id:null,dbt_count:null,residence_place_location:"",image:""}),s=p({faculty_id:[],specialty_id:[],date_start:[],payment_type_id:[],acceptance_id:[],citizenship_id:[],passport_issue_date:[],pinfl:[],passport:[],surname:[],name:[],last_name:[],birthdate:[],gender:[],nation_id:[],social_category_id:[],student_category_id:[],date_end:[],["old_educational_name.uz"]:[],document_seria:[],document_number:[],country_id:[],region_id:[],now_district_id:[],address_home:[],live_place_id:[],now_region_id:[],district_id:[],now_address:[],count_of_people_living:[],category_live_together_id:[],residence_place_status:[],email:[],phone:[],phone_father:[],phone_person:[],student_status_id:[],dbt_count:[],residence_place_location:[],image:[]});u(null);async function g(){var t,_;try{i.value=!0,Object.assign(s,{});const e=new FormData;Object.getOwnPropertyNames(n).forEach(o=>{!["id","citizenship","user_id"].includes(o)&&n[o]&&e.append(o,n[o])}),e.append("old_educational_name[uz]",n.old_educational_name.uz),e.append("old_educational_name[ru]",n.old_educational_name.ru),e.append("old_educational_name[en]",n.old_educational_name.en);const c=await b(e);h.success(f("Data_stored_successfully")),N.back()}catch(e){Object.assign(s,(_=(t=e.response)==null?void 0:t.data)==null?void 0:_.errors)}finally{i.value=!1}}function y(t){s[t]=[]}return(t,_)=>{const e=S("router-link"),c=v;return B(),C("div",O,[a("div",j,[a("div",D,[a("div",E,[a("h5",V,[d(e,{to:"/student/student"},{default:m(()=>[l(r(t.$t("Student_Student")),1)]),_:1}),l(" / "+r(t.$t("Create_Student")),1)]),a("div",$,[d(e,{to:"/student/student",class:"btns black-c py-1.5 px-4"},{default:m(()=>[x,l(r(t.$t("Back")),1)]),_:1})])])])]),a("div",F,[a("div",T,[d(c,{"form-state":n,errors:s,"is-loading":i.value,onSubmit:g,onClearError:y},null,8,["form-state","errors","is-loading"])])])])}}});export{M as default};
