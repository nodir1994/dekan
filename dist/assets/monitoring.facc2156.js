import{_ as L}from"./Pagination.f4a9fc5d.js";import{d as z,a as E,bO as M,B as $,h as T,c as U,Z as w,y as j,bq as I,w as C,i as r,b6 as O,o as n,e as i,f as t,j as c,k as d,z as p,t as o,bs as S,F as q,r as A,s as H,aR as R,l as N}from"./index.3390162f.js";import{e as Z}from"./employee-competition.a7baf594.js";import{f as G}from"./index.30e99442.js";import"./_plugin-vue_export-helper.cdc0426e.js";const J={pagetitle:"'Malaka oshirish'",class:"monitoring-competition-page"},K={class:"card panel-header-bg"},Q={class:"card-body"},W={class:"panel-header"},X={class:"card-title"},Y={class:"panel-toggles"},x={class:"filterBlock"},tt={class:"btns c-filter py-1.5 px-4 me-3"},st=t("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),ot={class:"btns black-c py-1.5 px-4",type:"submit"},at=t("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),et={class:"collapse__block"},nt={class:"row"},it={class:"my-2 col-md-6 form--item"},lt={for:"yu"},ct={class:"my-2 col-md-6 form--item"},dt={for:"yu"},_t={class:"card"},rt={class:"card-body"},pt={key:0,class:"table-responsive"},ut={class:"content-table"},ht={class:"table-row d-grid w-100"},ft=t("th",null,"#",-1),mt={key:0},yt={key:1},gt={key:0},vt={key:1},bt={key:0},kt={key:1},$t={key:0},wt={key:1},Ct={key:1},Nt={class:"text-center"},Dt={class:"text-center"},Bt={key:0,class:"element-count mb-2"},Mt=z({__name:"monitoring",async setup(Pt){let f,m;E(),M(),$(!1);const u=T(),D=U(()=>{var a,l;return(l=(a=u==null?void 0:u.user)==null?void 0:a.faculty)==null?void 0:l.name}),y=$([]),e=w({current_page:1,data:[],links:[]}),_=w({department_id:null,name:"",page:1});j(async()=>{y.value=await G().then(a=>a.result)}),[f,m]=I(()=>h()),await f,m(),C(()=>e.current_page,async a=>{Number(a)&&(_.page=Number(a),await h())}),C(()=>_.department_id,async(a,l)=>{await h()});async function h(){const a=await Z(_);Object.assign(e,a.result)}return(a,l)=>{const g=r("router-link"),v=r("a-select"),b=r("a-space"),B=r("b-card"),P=r("b-collapse"),V=L,F=O("b-toggle");return n(),i("div",J,[t("div",K,[t("div",Q,[t("div",W,[t("h5",X,[c(g,{to:"/employee/employee-competition"},{default:d(()=>[p(o(a.$t("Employee_Competition"))+" / ",1)]),_:1}),p(" "+o(a.$t("Teacher_competition_monitoring")),1)]),t("div",Y,[t("div",x,[S((n(),i("button",tt,[st,p(o(a.$t("Filter")),1)])),[[F,void 0,void 0,{"collapse-3":!0}]])]),c(g,{to:"/employee/employee-competition"},{default:d(()=>[t("button",ot,[at,p(o(a.$t("Back")),1)])]),_:1})])])])]),t("div",et,[c(P,{visible:"",id:"collapse-3"},{default:d(()=>[c(B,null,{default:d(()=>[t("div",nt,[t("div",it,[c(b,null,{default:d(()=>[c(v,{class:"form--item",value:D.value,disabled:""},null,8,["value"])]),_:1}),t("label",lt,o(a.$t("Choose_faculty")),1)]),t("div",ct,[c(b,null,{default:d(()=>[c(v,{class:"form--item",value:_.department_id,"onUpdate:value":l[0]||(l[0]=s=>_.department_id=s),"field-names":{value:"id",label:"name"},options:y.value,"allow-clear":"","show-search":""},null,8,["value","options"])]),_:1}),t("label",dt,o(a.$t("Choose_Department")),1)])])]),_:1})]),_:1})]),t("div",_t,[t("div",rt,[e.data.length?(n(),i("div",pt,[t("table",ut,[t("thead",null,[t("tr",ht,[ft,t("th",null,o(a.$t("Employee")),1),t("th",null,o(a.$t("Hei_cathedra")),1),t("th",null,o(a.$t("by_Post")),1),t("th",null,o(a.$t("Staff_Date")),1),t("th",null,o(a.$t("Competition_position")),1),t("th",null,o(a.$t("Competition_date")),1),t("th",null,o(a.$t("Difference")),1),t("th",null,o(a.$t("Deadline")),1)])]),t("tbody",null,[(n(!0),i(q,null,A(e.data,(s,k)=>(n(),i("tr",{class:"table-row d-grid w-100",key:k},[t("td",null,o((e.current_page-1)*e.per_page+k+1),1),t("td",null,o(s==null?void 0:s.fullname),1),t("td",null,o(s==null?void 0:s.department),1),t("td",null,o(s==null?void 0:s.position),1),t("td",null,o(s==null?void 0:s.date_position),1),t("td",null,[s.select_position==null?(n(),i("span",mt,"("+o(a.$t("Not_given"))+")",1)):(n(),i("span",yt,o(s==null?void 0:s.select_position),1))]),t("td",null,[s.date_selection==null?(n(),i("span",gt,"("+o(a.$t("Not_given"))+")",1)):(n(),i("span",vt,o(s==null?void 0:s.date_selection),1))]),t("td",null,[s.difference==null?(n(),i("span",bt,"-")):(n(),i("span",kt,o(s==null?void 0:s.difference),1))]),t("td",null,[s.term==null?(n(),i("span",$t,"-")):(n(),i("span",wt,o(s==null?void 0:s.date_selection),1))])]))),128))])]),e.last_page>1?(n(),H(V,R({key:0,class:"mt-2"},{...e},{"current-page":e.current_page,"onUpdate:currentPage":l[1]||(l[1]=s=>e.current_page=s)}),null,16,["current-page"])):N("",!0)])):(n(),i("div",Ct,[t("h5",Nt,o(a.$t("No_data")),1),t("p",Dt,o(a.$t("No_information_found")),1)]))])]),e.data.length?(n(),i("span",Bt,o(e.current_page)+"-"+o(e.data.length+e.per_page*(e.current_page-1))+"/ "+o(a.$t("Total_Point"))+": "+o(e.total),1)):N("",!0)])}}});export{Mt as default};
