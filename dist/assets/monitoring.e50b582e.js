import{_ as L}from"./Pagination.f4a9fc5d.js";import{d as T,a as z,bO as M,B as w,h as U,c as j,Z as $,y as E,bq as I,w as N,i as _,b6 as O,o as e,e as i,f as t,j as d,k as r,z as u,t as s,bs as q,F as A,r as H,s as R,aR as S,l as B}from"./index.3390162f.js";import{t as Y}from"./advenced-training.b7657279.js";import{f as Z}from"./index.30e99442.js";import"./_plugin-vue_export-helper.cdc0426e.js";const G={pagetitle:"'Malaka oshirish'",class:"monitoring-training"},J={class:"card panel-header-bg"},K={class:"card-body"},Q={class:"panel-header"},W={class:"card-title"},X={class:"panel-toggles"},x={class:"filterBlock"},tt={class:"btns c-filter py-1.5 px-4 me-3"},at=t("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),st={class:"btns black-c py-1.5 px-4",type:"submit"},ot=t("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),nt={class:"collapse__block"},et={class:"row"},it={class:"my-2 col-md-6 form--item"},lt={for:"yu"},dt={class:"my-2 col-md-6 form--item"},rt={for:"yu"},ct={class:"card"},_t={class:"card-body"},ut={key:0,class:"table-responsive"},pt={class:"content-table"},ht={class:"table-row w-100 d-grid"},gt=t("th",null,"#",-1),ft={key:0},yt={key:1},vt={key:0},bt={key:1},mt={key:1},kt={class:"text-center"},wt={class:"text-center"},$t={key:0,class:"element-count mb-2"},Ft=T({__name:"monitoring",async setup(Nt){let g,f;z(),M(),w(!1);const p=U(),P=j(()=>{var o,l;return(l=(o=p==null?void 0:p.user)==null?void 0:o.faculty)==null?void 0:l.name}),y=w([]),n=$({current_page:1,data:[],links:[]}),c=$({faculty_id:null,department_id:null,name:"",page:1});E(async()=>{y.value=await Z().then(o=>o.result)}),[g,f]=I(()=>h()),await g,f(),N(()=>n.current_page,async o=>{Number(o)&&(c.page=Number(o),await h())}),N(()=>c.department_id,async(o,l)=>{await h()});async function h(){const o=await Y(c);Object.assign(n,o.result)}return(o,l)=>{const v=_("router-link"),b=_("a-select"),m=_("a-space"),C=_("b-card"),D=_("b-collapse"),V=L,F=O("b-toggle");return e(),i("div",G,[t("div",J,[t("div",K,[t("div",Q,[t("h5",W,[d(v,{to:"/employee/advenced-training"},{default:r(()=>[u(s(o.$t("prof__development"))+" / ",1)]),_:1}),u(" "+s(o.$t("prof__development__monitoring")),1)]),t("div",X,[t("div",x,[q((e(),i("button",tt,[at,u(s(o.$t("Filter")),1)])),[[F,void 0,void 0,{"collapse-3":!0}]])]),d(v,{to:"/employee/advenced-training"},{default:r(()=>[t("button",st,[ot,u(s(o.$t("Back")),1)])]),_:1})])])])]),t("div",nt,[d(D,{visible:"",id:"collapse-3"},{default:r(()=>[d(C,null,{default:r(()=>[t("div",et,[t("div",it,[d(m,null,{default:r(()=>[d(b,{class:"form--item",value:P.value,disabled:""},null,8,["value"])]),_:1}),t("label",lt,s(o.$t("Choose_faculty")),1)]),t("div",dt,[d(m,null,{default:r(()=>[d(b,{class:"form--item",value:c.department_id,"onUpdate:value":l[0]||(l[0]=a=>c.department_id=a),"field-names":{value:"id",label:"name"},options:y.value,"allow-clear":""},null,8,["value","options"])]),_:1}),t("label",rt,s(o.$t("Choose_Department")),1)])])]),_:1})]),_:1})]),t("div",ct,[t("div",_t,[n.data.length?(e(),i("div",ut,[t("table",pt,[t("thead",null,[t("tr",ht,[gt,t("th",null,s(o.$t("Employee")),1),t("th",null,s(o.$t("Hei_cathedra")),1),t("th",null,s(o.$t("by_Post")),1),t("th",null,s(o.$t("Training_Place")),1),t("th",null,s(o.$t("Training_Period")),1),t("th",null,s(o.$t("Year")),1),t("th",null,s(o.$t("Deadline")),1)])]),t("tbody",null,[(e(!0),i(A,null,H(n.data,(a,k)=>(e(),i("tr",{class:"table-row w-100 d-grid",key:k},[t("td",null,s((n.current_page-1)*n.per_page+k+1),1),t("td",null,s(a==null?void 0:a.fullname),1),t("td",null,s(a==null?void 0:a.department),1),t("td",null,s(a==null?void 0:a.position),1),t("td",null,s(a==null?void 0:a.training_place),1),t("td",null,s(),1),t("td",null,[(a==null?void 0:a.date_start)&&(a==null?void 0:a.date_end)?(e(),i("span",ft,s(a==null?void 0:a.date_start)+" / "+s(a==null?void 0:a.date_end),1)):(e(),i("span",yt,"-"))]),t("td",null,[a.year==null?(e(),i("span",vt,"("+s(o.$t("Not_given"))+")",1)):(e(),i("span",bt,s(a==null?void 0:a.year),1))]),t("td",null,s(),1)]))),128))])]),n.last_page>1?(e(),R(V,S({key:0,class:"mt-2"},{...n},{"current-page":n.current_page,"onUpdate:currentPage":l[1]||(l[1]=a=>n.current_page=a)}),null,16,["current-page"])):B("",!0)])):(e(),i("div",mt,[t("h5",kt,s(o.$t("No_data")),1),t("p",wt,s(o.$t("No_information_found")),1)]))])]),n.data.length?(e(),i("span",$t,s(n.current_page)+"-"+s(n.data.length+n.per_page*(n.current_page-1))+"/ "+s(o.$t("Total_Point"))+": "+s(n.total),1)):B("",!0)])}}});export{Ft as default};
