import{d as E,B as z,w as j,o as d,e as l,f as t,q as C,F as $,r as I,t as i,l as v,p as V,m as ss,a as ts,bO as as,y as os,Z as F,bq as is,i as m,b6 as es,z as N,bs as ns,j as r,k as y,s as ds,aR as ls,bS as D}from"./index.3390162f.js";import{_ as cs}from"./_plugin-vue_export-helper.cdc0426e.js";import{S as R}from"./sweetalert2.all.fdef424e.js";import{t as rs,a as us,f as _s,d as ps,u as fs,c as gs,b as vs}from"./conference.cd1ecb2a.js";const O=w=>(V("data-v-db3df53a"),w=w(),ss(),w),hs={"aria-label":"Page navigation"},bs={class:"pagination mb-1"},ys=O(()=>t("i",{class:"mdi mdi-chevron-double-left"},null,-1)),ks=[ys],ms=O(()=>t("i",{class:"mdi mdi-chevron-left"},null,-1)),$s=[ms],Cs=["onClick"],ws={key:0},Ps=O(()=>t("button",{class:"page-link"},"\u2026",-1)),Bs=[Ps],Ys=O(()=>t("i",{class:"mdi mdi-chevron-right"},null,-1)),Ms=[Ys],Os=O(()=>t("i",{class:"mdi mdi-chevron-double-right"},null,-1)),Ss=[Os],Ts=E({__name:"PaginationMsg",props:{current_page:{},data:{},first_page_url:{},from:{},last_page:{default:1},links:{default:()=>[]},next_page_url:{},path:{},per_page:{},prev_page_url:{},to:{},total:{},currentPage:{default:1},loading:{type:Boolean,default:!1}},emits:["update:currentPage"],setup(w,{emit:S}){const u=w,p=S,_=z(1),f=z(1);j(()=>u.last_page,o=>{o&&(_.value=o>4?3:o,f.value=o>4?3:o)},{immediate:!0}),j(()=>u.currentPage,o=>{o&&(o<_.value&&o>=1&&u.last_page>_.value?f.value=_.value:o>=u.last_page-2&&o<=u.last_page?f.value=u.last_page:o>=_.value&&o<u.last_page-2&&(f.value=o+1))},{immediate:!0});function P(o){p("update:currentPage",u.currentPage+o),u.currentPage<_.value?f.value=_.value:u.currentPage>=_.value&&u.currentPage<u.last_page&&(f.value=u.currentPage+1)}function n(){p("update:currentPage",u.last_page),f.value=u.last_page}return(o,b)=>(d(),l("nav",hs,[t("ul",bs,[t("li",{class:C(["page-item",(o.currentPage===1||o.loading)&&"disabled"])},[t("button",{class:"page-link",onClick:b[0]||(b[0]=e=>o.$emit("update:currentPage",1))},ks)],2),t("li",{class:C(["page-item",(o.currentPage===1||o.loading)&&"disabled"])},[t("button",{class:"page-link",onClick:b[1]||(b[1]=e=>P(-1))},$s)],2),(d(!0),l($,null,I(_.value,e=>(d(),l("li",{class:C(["page-item",e+(f.value-_.value)===o.currentPage&&"active",o.loading&&"disabled"])},[t("button",{class:"page-link",onClick:B=>o.$emit("update:currentPage",e+(f.value-_.value))},i(e+(f.value-_.value)),9,Cs)],2))),256)),o.last_page>f.value+1?(d(),l($,{key:0},[o.currentPage!==o.last_page?(d(),l("li",ws,Bs)):v("",!0),t("li",{class:C([o.loading&&"disabled"])},[t("button",{class:"page-link",onClick:n},i(o.last_page),1)],2)],64)):v("",!0),t("li",{class:C(["page-item",(o.currentPage===o.last_page||o.loading)&&"disabled"])},[t("button",{class:"page-link",onClick:b[2]||(b[2]=e=>P(1))},Ms)],2),t("li",{class:C(["page-item",(o.currentPage===o.last_page||o.loading)&&"disabled"])},[t("button",{class:"page-link",onClick:n},Ss)],2)])]))}});const Fs=cs(Ts,[["__scopeId","data-v-db3df53a"]]),Ns={class:"certificatePage"},zs={class:"card panel-header-bg"},js={class:"card-body"},Is={class:"panel-header"},Ls={class:"card-title"},Us={class:"panel-toggles"},As=t("i",{class:"mdi mdi-plus font-size-14 align-middle me-1"},null,-1),Ds={class:"filterBlock"},Rs={class:"btns c-filter py-1.5 px-4"},Es=t("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),Hs={class:"collapse__block"},Ws={class:"row"},Zs={class:"my-2 col-6 form--item"},qs={for:"yu"},Gs={class:"my-2 col-6 form--item"},Js={for:"yu"},Ks={class:"row table-division"},Qs={class:"col-xl-12"},Xs={class:"card"},xs={class:"card-body"},Vs={key:0,class:"table-responsive"},st={class:"content-table"},tt={class:"table-row"},at=t("th",null,"#",-1),ot={class:"gridjs-td"},it={class:"list-inline mb-0"},et={class:"list-inline-item"},nt=["onClick"],dt=t("i",{class:"mdi mdi-pencil text-primary"},null,-1),lt=[dt],ct={class:"list-inline-item"},rt={class:"delete__project"},ut=["onClick"],_t=t("i",{class:"mdi mdi-delete font-size-18"},null,-1),pt=[_t],ft={key:0,class:"list-inline-item"},gt={key:0,class:"delete__project"},vt=t("i",{class:"mdi mdi-forward font-size-18 text-primary"},null,-1),ht={key:0},bt={key:0},yt=["href"],kt={key:1},mt=["href"],$t=["href"],Ct=["href"],wt=["onClick"],Pt={key:3},Bt={key:1},Yt={class:"text-center"},Mt={class:"text-center"},Ot={key:0,class:"element-count mb-2"},St={id:"modalAudince",class:"modal fade",tabindex:"-1","aria-labelledby":"myModalLabel","aria-hidden":"true"},Tt={class:"modal-dialog"},Ft={class:"modal-content"},Nt={class:"modal-header bg-card-header"},zt={class:"modal-title",id:"myModalLabel"},jt=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"},[t("i",{class:"mdi mdi-close font-size-18"})],-1),It={class:"modal-body"},Lt={class:"card-body"},Ut={class:"row"},At={class:"col-lg-6"},Dt={for:"division-name-select",class:"form-label"},Rt={key:0,class:"text-danger small"},Et={class:"col-lg-6"},Ht={for:"division-name-select",class:"form-label"},Wt={key:0,class:"text-danger small"},Zt={class:"col-lg-6"},qt={for:"division-name-select",class:"form-label"},Gt={key:0,class:"text-danger small"},Jt={class:"col-lg-6"},Kt={for:"division-name-select",class:"form-label"},Qt={key:0,class:"text-danger small"},Xt={for:"division-name-input",class:"form-label"},xt={key:0,class:"text-danger small"},Vt={for:"division-name-select",class:"form-label"},sa={key:0,class:"text-danger small"},ta={class:"d-flex justify-content-end"},aa=t("i",{class:"mdi mdi-check font-size-14 align-middle me-1"},null,-1),oa=t("i",{class:"mdi mdi-check font-size-14 align-middle me-1"},null,-1),la=E({__name:"index",async setup(w){let S,u;const{t:p}=ts(),_=as(),f=z(!1),P=z(!0);os(async()=>{b.typeOptions=await rs().then(a=>a==null?void 0:a.data),b.audinceOptions=await us().then(a=>a==null?void 0:a.data)});const n=F({conference_type_id:null,start_id:null,data:[],current_page:1}),o=F({id:[],conference_type_id:[],name:[],description:[],date:[],status:[],duration:[]}),b=F({typeOptions:null,audinceOptions:null}),e=F({id:null,conference_type_id:null,name:null,description:null,date:null,status:null,duration:null,audience_id:null});j(()=>[n.conference_type_id,n.start_id],async()=>{await B()}),j(()=>n.current_page,async a=>{Number(a)&&(n.page=Number(a),await B(a))}),[S,u]=is(()=>B()),await S,u();async function B(a){let c={page:n.page};if(a||(c.page=1),n.conference_type_id&&(c.conference_type_id=n.conference_type_id),n.start_id&&(c.date=n.start_id),P.value){P.value=!1;const g=await _s(c);Object.assign(n,g.data),setTimeout(()=>{P.value=!0},100)}}async function L(a){U();const c=D.getOrCreateInstance("#modalAudince");e.id=a==null?void 0:a.id,e.conference_type_id=a==null?void 0:a.conference_type_id,e.name=a==null?void 0:a.name,e.description=a==null?void 0:a.description,e.date=a==null?void 0:a.date,e.duration=a==null?void 0:a.duration,e.audience_id=a==null?void 0:a.audience_id,c.show()}function U(){Object.assign(o,{conference_type_id:[],description:[],date:[],duration:[],name:[],audience_id:[]})}async function H(a){const c=R.mixin({customClass:{confirmButton:"btn btn-danger me-2",cancelButton:"btn btn-success"},buttonsStyling:!1});try{(await c.fire({title:p("Delete_message.Are_you_sure"),text:p("Delete_message.Action_irreversible"),icon:"warning",confirmButtonText:p("Delete_message.Yes_Delete"),cancelButtonText:p("Delete_message.Yo_Cancel"),showCancelButton:!0})).isConfirmed&&(await ps(a),await B(),await c.fire(p("Delete_message.Removed"),p("Delete_message.Record_deleted_successfull"),"success"))}catch(g){await c.fire(p("Something went wrong!"),g.message,"error")}}async function W(){var a,c;try{const g=D.getOrCreateInstance("#modalAudince");f.value=!0,U();const h=e!=null&&e.id?await fs(e==null?void 0:e.id,e):await gs(e);e!=null&&e.id?_.success(p("success_update")):_.success(p("success_add")),g.hide(),await B()}catch(g){console.log(g,"error"),Object.assign(o,(c=(a=g.response)==null?void 0:a.data)==null?void 0:c.errors)}finally{f.value=!1}}function Z(a){R.mixin({customClass:{confirmButton:"btn btn-danger me-2",cancelButton:"btn btn-success"},buttonsStyling:!1}).fire({title:p("start_miting"),icon:"warning",confirmButtonText:p("Yes"),cancelButtonText:p("No"),showCancelButton:!0}).then(g=>{g.isConfirmed&&vs(a).then(h=>{console.log(h);const k=document.createElement("a");k.setAttribute("target","_blank"),k.href=h==null?void 0:h.result,k.click(),setTimeout(()=>{location.reload()},5e3)}).catch(h=>{var k,T;console.log(h),_.error((T=(k=h==null?void 0:h.response)==null?void 0:k.data)==null?void 0:T.errors)})})}return(a,c)=>{const g=m("a-select"),h=m("a-space"),k=m("a-date-picker"),T=m("b-card"),q=m("b-collapse"),G=m("router-link"),J=Fs,Y=m("a-form-item"),A=m("a-input"),K=m("a-textarea"),Q=es("b-toggle");return d(),l("div",Ns,[t("div",zs,[t("div",js,[t("div",Is,[t("h5",Ls,i(a.$t("list_conference")),1),t("div",Us,[t("a",{type:"text",class:"btns c-save py-1.5 px-4 me-3",onClick:c[0]||(c[0]=s=>L(null))},[As,N(i(a.$t("Create")),1)]),t("div",Ds,[ns((d(),l("button",Rs,[Es,N(i(a.$t("Filter")),1)])),[[Q,void 0,void 0,{"collapse-3":!0}]])])])])])]),t("div",Hs,[r(q,{visible:"",id:"collapse-3"},{default:y(()=>[r(T,null,{default:y(()=>[t("div",Ws,[t("div",Zs,[r(h,null,{default:y(()=>[r(g,{value:n.conference_type_id,"onUpdate:value":c[1]||(c[1]=s=>n.conference_type_id=s),options:b.typeOptions,"field-names":{value:"id",label:"name"},"allow-clear":"","show-search":""},null,8,["value","options"])]),_:1}),t("label",qs,i(a.$t("Type")),1)]),t("div",Gs,[r(h,null,{default:y(()=>[r(k,{value:n.start_id,"onUpdate:value":c[2]||(c[2]=s=>n.start_id=s),placeholder:"DD.MM.YYYY",type:"date",format:"DD.MM.YYYY","value-format":"DD.MM.YYYY "},null,8,["value"])]),_:1}),t("label",Js,i(a.$t("Begin_Date")),1)])])]),_:1})]),_:1})]),t("div",Ks,[t("div",Qs,[t("div",Xs,[t("div",xs,[n.data.length?(d(),l("div",Vs,[t("table",st,[t("thead",null,[t("tr",tt,[at,t("th",null,i(a.$t("Type")),1),t("th",null,i(a.$t("Title")),1),t("th",null,i(a.$t("Explanation")),1),t("th",null,i(a.$t("Begin_Date")),1),t("th",null,i(a.$t("Actions")),1),t("th",null,i(a.$t("Contract_Status")),1),t("th",null,i(a.$t("duration")),1),t("th",null,i(a.$t("auditorium")),1)])]),t("tbody",null,[(d(!0),l($,null,I(n==null?void 0:n.data,(s,X)=>(d(),l("tr",{class:"table-row last_td",key:s.id},[t("td",null,i((n.current_page-1)*n.per_page+X+1),1),t("td",null,i(s==null?void 0:s.conference_type),1),t("td",null,i(s==null?void 0:s.name),1),t("td",null,i(s==null?void 0:s.description),1),t("td",null,i(s==null?void 0:s.date),1),t("td",ot,[t("ul",it,[t("li",et,[(s==null?void 0:s.is_creator)&&(s==null?void 0:s.status)=="inactive"?(d(),l("a",{key:0,type:"text",onClick:M=>L(s)},lt,8,nt)):v("",!0)]),t("li",ct,[t("div",rt,[t("a",{class:"text-danger",type:"danger",onClick:M=>H(s.id)},pt,8,ut)])]),(s==null?void 0:s.is_creator)&&(s==null?void 0:s.status)=="inactive"?(d(),l("li",ft,[s!=null&&s.status?(d(),l("div",gt,[r(G,{to:{path:"/conferences/"+s.id},class:"text-info",type:"info"},{default:y(()=>[vt]),_:2},1032,["to"])])):v("",!0)])):v("",!0)])]),t("td",null,[(s==null?void 0:s.status)=="completed"?(d(),l($,{key:0},[s!=null&&s.conference_files?(d(),l("div",ht,[(s==null?void 0:s.conference_files.length)&&(s==null?void 0:s.conference_files)?(d(),l("div",bt,[(d(!0),l($,null,I(s.conference_files,(M,x)=>(d(),l("a",{key:M,href:M,class:C([x>0?"mt-1":"","btns c-save"]),target:"_blank",style:{color:"#fff"}},i(a.$t("Download")),11,yt))),128))])):(d(),l("span",kt,i(a.$t("Loading")),1))])):v("",!0)],64)):(s==null?void 0:s.status)=="active"?(d(),l($,{key:1},[s!=null&&s.is_creator?(d(),l("a",{key:0,href:s==null?void 0:s.url,target:"_blank",class:"btns c-save",style:{color:"#fff"}},i(a.$t("continue_miting")),9,mt)):(d(),l("a",{key:1,target:"_blank",href:s==null?void 0:s.url,class:"btns c-save"},i(a.$t("join_miting")),9,$t))],64)):(s==null?void 0:s.status)=="inactive"?(d(),l($,{key:2},[s!=null&&s.is_creator?(d(),l("a",{key:1,onClick:M=>Z(s==null?void 0:s.id),class:"btns c-save"},i(a.$t("start_miting")),9,wt)):(d(),l("a",{key:0,href:s==null?void 0:s.url,disabled:"",class:"text text-black"},i(a.$t("start_yet")),9,Ct))],64)):(d(),l("span",Pt,i(a.$t("not_helth")),1))]),t("td",null,i(s==null?void 0:s.duration),1),t("td",null,i(s==null?void 0:s.audience),1)]))),128))])]),n.last_page>1?(d(),ds(J,ls({key:0,class:"mt-2"},{...n},{"current-page":n.current_page,"onUpdate:currentPage":c[3]||(c[3]=s=>n.current_page=s),loading:f.value}),null,16,["current-page","loading"])):v("",!0)])):(d(),l("div",Bt,[t("h5",Yt,i(a.$t("No_data")),1),t("p",Mt,i(a.$t("No_information_found")),1)]))])]),n!=null&&n.total?(d(),l("span",Ot,i(n==null?void 0:n.current_page)+"-"+i((n==null?void 0:n.data.length)+n.per_page*((n==null?void 0:n.current_page)-1))+"/ "+i(a.$t("Total_Point"))+": "+i(n==null?void 0:n.total),1)):v("",!0)])]),t("div",St,[t("div",Tt,[t("div",Ft,[t("div",Nt,[t("h5",zt,i(a.$t("list_conference_one")),1),jt]),t("div",It,[t("div",Lt,[t("div",Ut,[t("div",At,[r(Y,{class:"mb-3",name:"nameFaculty"},{default:y(()=>[t("label",Dt,i(a.$t("Type")),1),r(g,{value:e.conference_type_id,"onUpdate:value":c[4]||(c[4]=s=>e.conference_type_id=s),options:b.typeOptions,"field-names":{value:"id",label:"name"}},null,8,["value","options"]),o.conference_type_id?(d(),l("span",Rt,i(o.conference_type_id[0]),1)):v("",!0)]),_:1})]),t("div",Et,[r(Y,{class:"mb-3",name:"nameFaculty"},{default:y(()=>[t("label",Ht,i(a.$t("Name")),1),r(A,{value:e.name,"onUpdate:value":c[5]||(c[5]=s=>e.name=s),placeholder:""},null,8,["value"]),o.name?(d(),l("span",Wt,i(o.name[0]),1)):v("",!0)]),_:1})]),t("div",Zt,[r(Y,{class:"mb-3",name:"nameFaculty"},{default:y(()=>[t("label",qt,i(a.$t("auditorium")),1),r(g,{value:e.audience_id,"onUpdate:value":c[6]||(c[6]=s=>e.audience_id=s),options:b.audinceOptions,"field-names":{value:"id",label:"name"}},null,8,["value","options"]),o.audience_id?(d(),l("span",Gt,i(o.audience_id[0]),1)):v("",!0)]),_:1})]),t("div",Jt,[r(Y,{class:"mb-3",name:"nameFaculty"},{default:y(()=>[t("label",Kt,i(a.$t("duration")),1),r(A,{disabled:e==null?void 0:e.id,type:"number",value:e.duration,"onUpdate:value":c[7]||(c[7]=s=>e.duration=s),placeholder:""},null,8,["disabled","value"]),o.duration?(d(),l("span",Qt,i(o.duration[0]),1)):v("",!0)]),_:1})])]),r(Y,{class:"mb-3",name:"nameFaculty"},{default:y(()=>[t("label",Xt,i(a.$t("Explanation")),1),r(K,{"auto-size":{minRows:4.5,maxRows:6},value:e.description,"onUpdate:value":c[8]||(c[8]=s=>e.description=s)},null,8,["value"]),o.description?(d(),l("span",xt,i(o.description[0]),1)):v("",!0)]),_:1}),r(Y,{class:"mb-3",name:"nameFaculty"},{default:y(()=>[t("label",Vt,i(a.$t("Begin_Date")),1),r(k,{disabled:e==null?void 0:e.id,"show-time":"",value:e.date,"onUpdate:value":c[9]||(c[9]=s=>e.date=s),placeholder:"DD.MM.YYYY",format:"DD.MM.YYYY HH:mm","value-format":"DD.MM.YYYY HH:mm",type:"date"},null,8,["disabled","value"]),o.date?(d(),l("span",sa,i(o.date[0]),1)):v("",!0)]),_:1}),t("div",ta,[t("button",{class:"btns c-save",type:"button",onClick:W},[e.id?(d(),l($,{key:0},[aa,N(i(a.$t("Save")),1)],64)):(d(),l($,{key:1},[oa,N(i(a.$t("Create")),1)],64))])])])])])])])])}}});export{la as default};
