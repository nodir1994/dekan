import{_ as J}from"./LoadingOverlay.vue_vue_type_script_setup_true_lang.89ce9ad6.js";/* empty css                                                       */import{d as K,n as Q,u as W,a as X,bO as D,B as m,c as x,Z as U,y as ss,w as ts,i,b6 as es,o as c,e as u,f as s,j as n,k as p,z as b,t as l,bs as v,g as V,s as os,l as z,bH as F,F as ls,r as ds}from"./index.3390162f.js";import{b as as,o as ns,s as is,c as cs}from"./graph.0eb60427.js";import"./vue.runtime.esm-bundler.84001772.js";const us={pagetitle:"`Talaba ma'lumotlari`",class:"diploma-list"},rs={class:"card mb-3"},_s={class:"card-body"},bs={class:"mb-3"},hs={class:"btns back-c py-1.5 px-4",type:"button"},ms=s("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),ps={class:"card-title mb-3"},vs={class:"table-responsive"},fs={class:"content-table"},ys={class:"table-rowed2"},gs={class:"table-rowed2"},ks=s("br",null,null,-1),js={style:{color:"#ccc","font-size":"inherit"}},$s={class:"card panel-header-bg"},ws={class:"card-body"},Ss={class:"panel-header"},Ls={class:"card-title"},Ns={class:"panel-toggles"},Cs={class:"filterBlock"},Ys={class:"btns c-filter py-1.5 px-4"},Bs=s("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),Ms={class:"collapse__block"},Os={class:"row"},Us={class:"my-2 col-xl-3"},Vs={class:"form-label",for:"yu"},zs={class:"my-2 col-xl-3"},Fs={for:"division-name-input",class:"form-label"},Gs={class:"my-2 col-xl-3"},Es={for:"division-name-select",class:"form-label"},Ts={class:"my-2 col-xl-3"},Is={for:"division-name-select",class:"form-label"},Ps={key:0,class:"row table-division"},Rs={class:"col-md-12"},qs={class:"card"},As={class:"card-body"},Hs={class:"top d-flex justify-content-between mb-4"},Zs={class:"mb-0"},Js={class:"table-responsive"},Ks={class:"content-table"},Qs={class:"table-key-elements32"},Ws=s("th",null,"#",-1),Xs={class:"form-check"},Ds={class:"form-check"},xs=["disabled","value"],st={class:"d-flex justify-content-end mt-3"},tt=["disabled"],et=s("i",{class:"mdi mdi-check font-size-14 align-middle me-1"},null,-1),ct=K({__name:"add",setup(ot){const G=Q(),E=W(),f=G.query.id||"",{t:y}=X();D();const h=m(!1),a=m([]),g=x({get(){var e,d,_;return((e=t==null?void 0:t.subjects)==null?void 0:e.length)===((d=a==null?void 0:a.value)==null?void 0:d.length)&&((_=a==null?void 0:a.value)==null?void 0:_.length)>0},set(e){e?t.subjects=a.value:t.subjects=[]}}),t=U({student:null,student_id:null,number:null,date:null,command_id:null,semester_id:null,subjects:[],subjectList:[]}),r=U({orderOptions:null,semesterOptions:null}),k=m(!0);ss(async()=>{f&&(t.student=await as(f).then(e=>e.result),t.student_id=t.student.id,r.semesterOptions=t.student.semesters.map(e=>({id:e.id,name:e.semester+"-semestr"}))),r.orderOptions=await ns().then(e=>e.result.data)}),ts(()=>t.semester_id,async e=>{Number(e)&&(t.subjects=[],t.subjectList=[],a.value=[],t.subjectList=await is({student_id:t.student_id,semester_id:t.semester_id}).then(d=>d.result),t.subjectList.forEach(function(d){d.ball||a.value.push(d.subject_id)}))});async function T(){try{let e={student_id:t.student_id};if(t.number&&(e.number=t.number),t.date&&(e.date=t.date),t.command_id&&(e.command_id=t.command_id),t.semester_id&&(e.semester_id=t.semester_id),t.subjects.length&&(e.subjects=t.subjects),h.value=!0,k.value){k.value=!1;const d=await cs(e);E.push(`/performance/graphic/${d==null?void 0:d.result.id}`)}}catch(e){console.error(e)}finally{h.value=!1}}return(e,d)=>{var $,w,S,L,N,C,Y,B;const _=i("router-link"),I=i("a-input"),P=i("a-date-picker"),j=i("a-select"),R=i("b-card"),q=i("b-collapse"),A=J,H=es("b-toggle");return c(),u("div",us,[s("div",rs,[s("div",_s,[s("div",bs,[n(_,{to:"/performance/graphic/create"},{default:p(()=>[s("button",hs,[ms,b(l(e.$t("Prev")),1)])]),_:1})]),s("h5",ps,l(e.$t("Student_information")),1),s("div",vs,[s("table",fs,[s("thead",null,[s("tr",ys,[s("th",null,l(e.$t("Student")),1),s("th",null,l(e.$t("Education_Type")),1),s("th",null,l(e.$t("by_Specialty")),1),s("th",null,l(e.$t("Group")),1)])]),s("tbody",null,[s("tr",gs,[s("td",null,l(($=t==null?void 0:t.student)==null?void 0:$.fullname),1),s("td",null,[s("div",null,[b(l((L=(S=(w=t==null?void 0:t.student)==null?void 0:w.specialty)==null?void 0:S.edu_type)==null?void 0:L.name)+" ",1),ks,s("span",js,l((N=t==null?void 0:t.student)==null?void 0:N.edu_form),1)])]),s("td",null,l((Y=(C=t==null?void 0:t.student)==null?void 0:C.specialty)==null?void 0:Y.name),1),s("td",null,l((B=t==null?void 0:t.student)==null?void 0:B.academic_group),1)])])])])])]),s("div",$s,[s("div",ws,[s("div",Ss,[s("h5",Ls,l(e.$t("Data")),1),s("div",Ns,[s("div",Cs,[v((c(),u("button",Ys,[Bs,b(l(e.$t("Filter")),1)])),[[H,void 0,void 0,{"collapse-3":!0}]])])])])])]),s("div",Ms,[n(q,{visible:"",id:"collapse-3"},{default:p(()=>[n(R,null,{default:p(()=>[s("div",Os,[s("div",Us,[s("label",Vs,l(e.$t("Ptt_Number")),1),n(I,{id:"yu",value:t.number,"onUpdate:value":d[0]||(d[0]=o=>t.number=o),class:"form-control"},null,8,["value"])]),s("div",zs,[s("label",Fs,l(e.$t("apply_Date")),1),n(P,{value:t.date,"onUpdate:value":d[1]||(d[1]=o=>t.date=o),placeholder:"YYYY-MM-DD",type:"date","value-format":"YYYY-MM-DD"},null,8,["value"])]),s("div",Gs,[s("label",Es,l(e.$t("Decree")),1),n(j,{"field-names":{value:"id",label:"name"},options:r.orderOptions,placeholder:V(y)("Choose"),"allow-clear":"",value:t.command_id,"onUpdate:value":d[2]||(d[2]=o=>t.command_id=o)},null,8,["options","placeholder","value"])]),s("div",Ts,[s("label",Is,l(e.$t("Semester_Name")),1),n(j,{value:t.semester_id,"onUpdate:value":d[3]||(d[3]=o=>t.semester_id=o),placeholder:V(y)("Choose_Semester"),"field-names":{value:"id",label:"name"},options:r.semesterOptions,"allow-clear":""},null,8,["value","placeholder","options"])])])]),_:1})]),_:1})]),t.semester_id?(c(),u("div",Ps,[s("div",Rs,[s("div",qs,[s("div",As,[h.value?(c(),os(A,{key:0})):z("",!0),s("div",Hs,[s("h5",Zs,l(e.$t("Self plan_courses")),1),s("span",null,"* "+l(e.$t("system__grade__5")),1)]),s("div",Js,[s("table",Ks,[s("thead",null,[s("tr",Qs,[Ws,s("th",null,[s("div",Xs,[v(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":d[4]||(d[4]=o=>g.value=o)},null,512),[[F,g.value]])])]),s("th",null,l(e.$t("Subjects")),1),s("th",null,l(e.$t("Semester_Name")),1),s("th",null,l(e.$t("sciense_type")),1),s("th",null,l(e.$t("acload/credit")),1),s("th",null,l(e.$t("Score")),1),s("th",null,l(e.$t("gradeSome")),1)])]),s("tbody",null,[(c(!0),u(ls,null,ds(t.subjectList,(o,M)=>{var O;return c(),u("tr",{class:"table-key-elements32",key:M},[s("td",null,l(M+1),1),s("td",null,[s("div",Ds,[v(s("input",{type:"checkbox",disabled:o==null?void 0:o.ball,class:"form-check-input","onUpdate:modelValue":d[5]||(d[5]=Z=>t.subjects=Z),value:o==null?void 0:o.subject_id},null,8,xs),[[F,t.subjects]])])]),s("td",null,l(o==null?void 0:o.subject),1),s("td",null,l((O=o==null?void 0:o.semester)==null?void 0:O.semester)+" - "+l(e.$t("semester_number")),1),s("td",null,l(o==null?void 0:o.subject_type),1),s("td",null,l(o==null?void 0:o.load)+"/"+l(o==null?void 0:o.credit),1),s("td",null,l(o==null?void 0:o.ball),1),s("td",null,l(o==null?void 0:o.grade),1)])}),128))])])]),s("div",st,[s("button",{class:"btns c-save",type:"button",onClick:T,disabled:!t.subjects.length||!t.number||!t.date||!t.command_id},[et,b(l(e.$t("Save")),1)],8,tt)])])])])])):z("",!0)])}}});export{ct as default};
