import{_ as M}from"./Pagination.f4a9fc5d.js";import{_ as Z}from"./LoadingOverlay.vue_vue_type_script_setup_true_lang.89ce9ad6.js";/* empty css                                                       */import{d as H,a as J,bO as K,B as U,Z as $,bq as Q,y as W,w as v,i as h,b6 as X,o as n,e as r,f as s,t as a,bs as Y,z as _,j as l,k as u,g as f,s as P,l as k,F as x,r as ss,aR as ts}from"./index.3390162f.js";import{e as os,b as as,n as es}from"./index.30e99442.js";import{g as is}from"./recover.00bb39a9.js";import"./sweetalert2.all.fdef424e.js";import{h as m}from"./helper.569bc08f.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./vue.runtime.esm-bundler.84001772.js";import"./moment.2cad4b18.js";const ls={pagetitle:"`O'qishni tiklash`",class:"student-recovery-page"},ns={class:"card panel-header-bg"},ds={class:"card-body"},rs={class:"panel-header"},_s={class:"card-title"},us={class:"panel-toggles"},cs={class:"filterBlock"},ps={class:"btns c-filter py-1.5 px-4"},hs=s("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),fs={class:"collapse__block"},ys={class:"row"},vs={class:"my-2 col-md-2 form--item"},ms={for:"yu"},gs={class:"my-2 col-md-2 form--item"},bs={class:"my-2 col-md-2 form--item"},ws={for:"yu"},$s={class:"my-2 col-md-4 form--item"},ks={for:"yu"},Os={class:"my-2 col-md-2"},Ns=s("i",{class:"mdi mdi-magnify font-size-14 align-middle me-1"},null,-1),Cs={class:"row table-division"},Fs={class:"col-md-12"},Ss={class:"card"},Ts={class:"card-body"},Bs={key:1,class:"table-responsive"},Ls={class:"content-table"},Es={class:"table-row d-grid w-100"},Us=s("th",null,"#",-1),Ps=s("br",null,null,-1),zs={class:"c-gray"},js=s("br",null,null,-1),qs={class:"c-gray"},As=s("br",null,null,-1),Ds={class:"c-gray"},Rs=s("br",null,null,-1),Vs={class:"c-gray"},Gs=s("i",{class:"mdi mdi-reload font-size-14 align-middle me-1"},null,-1),Is={key:2},Ms={class:"text-center"},Zs={class:"text-center"},Hs={key:0,class:"element-count mb-2"},it=H({__name:"index",async setup(Js){let O,N;const{t:g}=J();K();const b=U(!1),o=$({search:"",student_status_id:null,edu_type_id:null,edu_form_id:null,data:[],links:[],current_page:1,per_page:m.pagePer}),c=$({eduTypeOptions:null,eduFormOptions:null,optionsStatuses:null}),w=U(!0);[O,N]=Q(()=>p()),await O,N(),W(async()=>{c.eduTypeOptions=await os().then(e=>e.result),c.eduFormOptions=await as().then(e=>e.result),c.optionsStatuses=await es().then(e=>e.result)}),v(()=>o.edu_type_id,async()=>{await p()}),v(()=>o.edu_form_id,async()=>{await p()}),v(()=>o.student_status_id,async()=>{await p()}),v(()=>o.current_page,async e=>{Number(e)&&(o.page=Number(e),await p(e))});async function z(){await p()}async function p(e){let i=$({page:e||1,per_page:o.per_page});o.edu_type_id&&(i.edu_type_id=o.edu_type_id),o.edu_form_id&&(i.edu_form_id=o.edu_form_id),o.student_status_id&&(i.student_status_id=o.student_status_id),o.search&&(i.search=o.search),b.value=!0;try{if(w.value){w.value=!1;const d=await is(i);Object.assign(o,d.result),setTimeout(()=>{w.value=!0},100)}}catch(d){console.log(d)}finally{b.value=!1}}return(e,i)=>{const d=h("a-select"),y=h("a-space"),j=h("a-input"),q=h("b-card"),A=h("b-collapse"),D=Z,R=h("router-link"),V=M,G=X("b-toggle");return n(),r("div",ls,[s("div",ns,[s("div",ds,[s("div",rs,[s("h5",_s,a(e.$t("education__recovery")),1),s("div",us,[s("div",cs,[Y((n(),r("button",ps,[hs,_(a(e.$t("Filter")),1)])),[[G,void 0,void 0,{"collapse-3":!0}]])])])])])]),s("div",fs,[l(A,{visible:"",id:"collapse-3"},{default:u(()=>[l(q,null,{default:u(()=>[s("div",ys,[s("div",vs,[l(y,null,{default:u(()=>[l(d,{"filter-option":f(m).filterOptionByName,"show-search":"","allow-clear":"",value:o.edu_type_id,"onUpdate:value":i[0]||(i[0]=t=>o.edu_type_id=t),"field-names":{value:"id",label:"name"},options:c.eduTypeOptions,placeholder:f(g)("Choose_Education_Type")},null,8,["filter-option","value","options","placeholder"])]),_:1}),s("label",ms,a(e.$t("Choose_Education_Type")),1)]),s("div",gs,[l(y,null,{default:u(()=>[l(d,{"filter-option":f(m).filterOptionByName,"show-search":"","allow-clear":"",value:o.edu_form_id,"onUpdate:value":i[1]||(i[1]=t=>o.edu_form_id=t),"field-names":{value:"id",label:"name"},options:c.eduFormOptions,placeholder:f(g)("Choose_Education_Form")},null,8,["filter-option","value","options","placeholder"])]),_:1}),s("label",null,a(e.$t("Choose_Education_Form")),1)]),s("div",bs,[l(y,null,{default:u(()=>[l(d,{"filter-option":f(m).filterOptionByName,"show-search":"",class:"form--item",allowClear:"",value:o.student_status_id,"onUpdate:value":i[2]||(i[2]=t=>o.student_status_id=t),options:c.optionsStatuses,placeholder:f(g)("select__status__student"),"field-names":{value:"id",label:"name"}},null,8,["filter-option","value","options","placeholder"])]),_:1}),s("label",ws,a(e.$t("select__status__student")),1)]),s("div",$s,[l(y,null,{default:u(()=>[l(j,{id:"yu",value:o.search,"onUpdate:value":i[3]||(i[3]=t=>o.search=t),class:"form-control","allow-clear":""},null,8,["value"])]),_:1}),s("label",ks,a(e.$t("choose__fish__passport__code")),1)]),s("div",Os,[s("button",{class:"btn-search search-color",onClick:z},[Ns,_(a(e.$t("Search")),1)])])])]),_:1})]),_:1})]),s("div",Cs,[s("div",Fs,[s("div",Ss,[s("div",Ts,[b.value?(n(),P(D,{key:0})):k("",!0),o.data.length?(n(),r("div",Bs,[s("table",Ls,[s("thead",null,[s("tr",Es,[Us,s("th",null,a(e.$t("Student")),1),s("th",null,a(e.$t("Education_Type")),1),s("th",null,a(e.$t("Group")),1),s("th",null,a(e.$t("by_Level")),1),s("th",null,a(e.$t("Transfer_Status")),1),s("th",null,a(e.$t("Updated_At")),1),s("th",null,a(e.$t("action")),1)])]),s("tbody",null,[(n(!0),r(x,null,ss(o.data,(t,I)=>{var C,F,S,T,B,L,E;return n(),r("tr",{class:"table-row w-100 d-grid",key:t.id},[s("td",null,a((o.current_page-1)*o.per_page+I+1),1),s("td",null,[s("div",null,[_(a(t==null?void 0:t.fullname)+" ",1),Ps,s("span",zs,a(t==null?void 0:t.id),1)])]),s("td",null,[s("div",null,[_(a((F=(C=t==null?void 0:t.specialty)==null?void 0:C.edu_type)==null?void 0:F.name)+" ",1),js,s("span",qs,a(t==null?void 0:t.edu_form),1)])]),s("td",null,[s("div",null,[_(a((S=t==null?void 0:t.academic_group)==null?void 0:S.name)+" ",1),As,s("span",Ds,a((T=t==null?void 0:t.edu_plan)==null?void 0:T.name),1)])]),s("td",null,[s("div",null,[_(a((B=t==null?void 0:t.semester)==null?void 0:B.course)+" - "+a(e.$t("course_number"))+" ",1),Rs,s("span",Vs,a((L=t==null?void 0:t.semester)==null?void 0:L.semester)+" - "+a(e.$t("semester_number")),1)])]),s("td",null,a((E=t==null?void 0:t.student_status)==null?void 0:E.name),1),s("td",null,a(t==null?void 0:t.updated_at),1),s("td",null,[l(R,{class:"btns search btn btn-success",to:{path:`/status-student/transfer-recovery/${t==null?void 0:t.id}`}},{default:u(()=>[Gs,_(a(e.$t("Restore")),1)]),_:2},1032,["to"])])])}),128))])]),o.last_page>1?(n(),P(V,ts({key:0,class:"mt-2"},{...o},{"current-page":o.current_page,"onUpdate:currentPage":i[4]||(i[4]=t=>o.current_page=t)}),null,16,["current-page"])):k("",!0)])):(n(),r("div",Is,[s("h5",Ms,a(e.$t("No_data")),1),s("p",Zs,a(e.$t("No_information_found")),1)]))])])])]),o.data.length?(n(),r("span",Hs,a(o.current_page)+"-"+a((o==null?void 0:o.data.length)+o.per_page*(o.current_page-1))+"/ "+a(e.$t("Total_Point"))+": "+a(o.total),1)):k("",!0)])}}});export{it as default};
