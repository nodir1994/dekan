import{_ as F}from"./NoData.ac42776e.js";import{bR as U,d as Y,a as M,B as N,Z as g,y as P,w as q,bq as T,i as u,b6 as R,o as n,e as c,f as s,t as o,bs as A,z as f,j as l,k as r,v as H,F as j,r as G,bH as I}from"./index.3390162f.js";import{a as K,K as O,m as Q}from"./index.30e99442.js";import{h as S}from"./helper.569bc08f.js";/* empty css                                                               */import"./_plugin-vue_export-helper.cdc0426e.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";const Z=U();async function J(w){try{const{data:_}=await Z({url:"/api/exams",params:w});return _}catch(_){throw _}}const W={pagetitle:"'Malaka oshirish'",class:"examPage"},X={class:"card panel-header-bg"},ss={class:"card-body"},ts={class:"panel-header"},as={class:"card-title"},os={class:"panel-toggles"},is={class:"filterBlock"},ls={class:"btns c-filter py-1.5 px-4"},es=s("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),ns={class:"collapse__block"},cs={class:"my-2 col-md-3 form--item"},ds={for:"yu"},rs={class:"my-2 col-md-3 form--item"},_s={for:"yu"},us={class:"my-2 col-xl-4 form--item"},ps={for:"yu"},hs={class:"my-2 col-xl-2"},ms={type:"submit",class:"btn-search search-color"},vs=s("i",{class:"mdi mdi-magnify font-size-14 align-middle me-1"},null,-1),fs={class:"card"},bs={class:"card-body"},ys={class:"table-responsive"},gs={key:0,class:"content-table"},ws={class:"table-row"},ks=s("br",null,null,-1),$s={class:"ms-2"},Cs=s("br",null,null,-1),Ls={class:"gridjs-td"},As={class:"list-inline mb-0"},js={class:"list-inline-item"},Gs={class:"edit__project"},Ss=s("i",{class:"mdi mdi-pencil font-size-18 text-primary"},null,-1),Bs={class:"list-inline-item"},Vs={class:"delete__project"},xs=s("i",{class:"mdi mdi-delete font-size-18"},null,-1),zs=[xs],Ds={class:"form-check form-switch my-auto"},Es=["onUpdate:modelValue"],Fs={key:1},Hs=Y({__name:"index",async setup(w){let _,k;M();const $=N(!1),b=g({current_page:1,data:[],per_page:S.pagePer}),p=g({}),e=g({academic_year_id:null,academic_group_id:null,search:"",current_page:1,per_page:S.pagePer});P(async()=>{p.optionsAcademicYear=await K().then(a=>{var i;return(i=a.result)==null?void 0:i.data}),p.optionsacademicGroupsList=await O().then(a=>{var i;return(i=a.result)==null?void 0:i.data})}),q(()=>e.academic_year_id,async(a,i)=>{await y();const m=await Q(a).then(h=>{var v;return(v=h.result)==null?void 0:v.data});p.optionsacademicGroupsList=m}),[_,k]=T(()=>y()),await _,k();async function B(){await y()}async function y(){$.value=!0;const a=await J(e);Object.assign(b,a.result),$.value=!1}return(a,i)=>{const m=u("a-select"),h=u("a-space"),v=u("a-input"),V=u("b-card"),x=u("b-collapse"),C=u("router-link"),z=F,D=R("b-toggle");return n(),c("div",W,[s("div",X,[s("div",ss,[s("div",ts,[s("h5",as,o(a.$t("Report_By_Exam")),1),s("div",os,[s("div",is,[A((n(),c("button",ls,[es,f(o(a.$t("Filter")),1)])),[[D,void 0,void 0,{"collapse-3":!0}]])])])])])]),s("div",ns,[l(x,{visible:"",id:"collapse-3"},{default:r(()=>[l(V,null,{default:r(()=>[s("form",{class:"row",onSubmit:H(B,["prevent"])},[s("div",cs,[l(h,null,{default:r(()=>[l(m,{value:e.academic_year_id,"onUpdate:value":i[0]||(i[0]=t=>e.academic_year_id=t),options:p.optionsAcademicYear,"field-names":{value:"id",label:"name"},"allow-clear":""},null,8,["value","options"])]),_:1}),s("label",ds,o(a.$t("Choose_Education_Year")),1)]),s("div",rs,[l(h,null,{default:r(()=>[l(m,{value:e.academic_group_id,"onUpdate:value":i[1]||(i[1]=t=>e.academic_group_id=t),options:p.optionsacademicGroupsList,"field-names":{value:"id",label:"name"},"allow-clear":""},null,8,["value","options"])]),_:1}),s("label",_s,o(a.$t("Choose_Group")),1)]),s("div",us,[l(h,null,{default:r(()=>[l(v,{id:"yu",class:"form-control",value:e.search,"onUpdate:value":i[2]||(i[2]=t=>e.search=t),"allow-clear":""},null,8,["value"])]),_:1}),s("label",ps,o(a.$t("Search_by_name")),1)]),s("div",hs,[s("button",ms,[vs,f(o(a.$t("Search")),1)])])],32)]),_:1})]),_:1})]),s("div",fs,[s("div",bs,[s("div",ys,[b.data?(n(),c("table",gs,[s("thead",null,[s("tr",ws,[s("th",null,[s("strong",null,o(a.$t("Title")),1)]),s("th",null,[s("strong",null,o(a.$t("Curriculum_Education_Year")),1)]),s("th",null,[s("strong",null,o(a.$t("Fixed_Groups")),1)]),s("th",null,[s("strong",null,o(a.$t("Exam_Questions_count")),1)]),s("th",null,[s("strong",null,o(a.$t("Start_At")),1)]),s("th",null,[s("strong",null,o(a.$t("Finish_At")),1)]),s("th",null,[s("strong",null,o(a.$t("Time"))+" ("+o(a.$t("minute"))+")",1)]),s("th",null,[s("strong",null,o(a.$t("action")),1)]),s("th",null,[s("strong",null,o(a.$t("Active")),1)])])]),s("tbody",null,[(n(!0),c(j,null,G(b.data,t=>(n(),c("tr",{class:"table-row",key:t.id},[s("td",null,[l(C,{to:"/curriculum/exam/subject"},{default:r(()=>[f(o(t==null?void 0:t.name)+" ",1),ks]),_:2},1024)]),s("td",null,o(t==null?void 0:t.semester.academic_year),1),s("td",null,[(n(!0),c(j,null,G(t==null?void 0:t.academic_groups,(d,E)=>{var L;return n(),c("div",{key:E},[s("span",$s,o((L=d==null?void 0:d.academic_group)==null?void 0:L.name),1)])}),128))]),s("td",null,o(t==null?void 0:t.quvestionsCount)+" / "+o(t==null?void 0:t.quvestions),1),s("td",null,[f(o(t==null?void 0:t.datetime_start)+" ",1),Cs]),s("td",null,o(t==null?void 0:t.datetime_end),1),s("td",null,o(t==null?void 0:t.deadline)+" "+o(a.$t("minute")),1),s("td",Ls,[s("ul",As,[s("li",js,[s("div",Gs,[l(C,{to:"/curriculum/exam/subject"},{default:r(()=>[Ss]),_:1})])]),s("li",Bs,[s("div",Vs,[s("a",{class:"text-danger",type:"danger",onClick:i[3]||(i[3]=(...d)=>a.cancel&&a.cancel(...d))},zs)])])])]),s("td",null,[s("div",Ds,[A(s("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:"","onUpdate:modelValue":d=>t.active=d},null,8,Es),[[I,t.active]])])])]))),128))])])):(n(),c("div",Fs,[l(z)]))])])])])}}});export{Hs as default};
