import{bR as G,d as j,B as y,a as O,Z as b,y as T,w as k,i as f,b6 as U,o as c,e as _,f as e,t as s,bs as V,z as E,j as n,k as m,v as F,g as w,s as z,l as M,F as I,r as S}from"./index.3390162f.js";import{j as x,a as Z,G as q,I as H}from"./index.30e99442.js";import{_ as J}from"./LoadingOverlay.vue_vue_type_script_setup_true_lang.89ce9ad6.js";/* empty css                                                       */import{_ as K}from"./NoData.ac42776e.js";import"./vue.runtime.esm-bundler.84001772.js";/* empty css                                                               */import"./_plugin-vue_export-helper.cdc0426e.js";const Q=G();async function W($){try{const{data:u}=await Q({url:"api/statistic/training",params:$});return u}catch(u){throw u}}const X={pagetitle:"`O'zlashtirish statistikasi`",class:"teacherRatingPage"},ee={class:"card panel-header-bg"},te={class:"card-body"},ae={class:"panel-header"},se={class:"card-title"},ie={class:"panel-toggles"},le={class:"filterBlock"},oe={class:"btns c-filter py-1.5 px-4"},ne=e("i",{class:"mdi mdi-filter me-2"},null,-1),de={class:"collapse__block"},ce={class:"my-2 col-md-3"},re=["disabled"],_e=e("i",{class:"mdi mdi-eye me-2"},null,-1),ue={class:"card"},pe={class:"card-body"},me={key:1,class:"table-responsive table-statistical"},he=e("th",{rowspan:"2",style:{"min-width":"55px"}},"\u2116",-1),ye={rowspan:"2",style:{"min-width":"200px"}},ve={colspan:"3"},be={colspan:"3"},fe={colspan:"3"},we={colspan:"3"},ge={colspan:"3"},$e={style:{"min-width":"55px"}},Le={style:{"min-width":"55px"}},Be={style:{"min-width":"55px"}},Pe={style:{"min-width":"55px"}},ke={style:{"min-width":"55px"}},Ee={style:{"min-width":"55px"}},Ie={style:{"min-width":"55px"}},Se={style:{"min-width":"55px"}},Ce={style:{"min-width":"55px"}},Ae={style:{"min-width":"55px"}},Re={style:{"min-width":"55px"}},Ye={style:{"min-width":"55px"}},Ne={style:{"min-width":"55px"}},De={style:{"min-width":"55px"}},Ge={style:{"min-width":"55px"}},je={class:"text-start"},Oe={key:2,class:"table-responsive table-statistical"},He=j({__name:"index",setup($){const u=y(!1),{t:h}=O(),L=y([]),B=y([]),P=y([]),r=y([]),v=b({result:[]}),p=b({optionaEduPlanByList:null,optionacademicYearsList:null,optionacademicGroupListById:null}),l=b({edu_plan_id:null,academic_year_id:null,semester_id:null,academic_group_id:null});T(async()=>{p.optionaEduPlanByList=await x().then(t=>t.result.data),p.optionacademicYearsList=await Z().then(t=>{var a;return(a=t.result)==null?void 0:a.data})}),k(()=>l.edu_plan_id,async t=>{Number(t)&&(p.optionacademicGroupListById=await q(t).then(a=>a.result.data))}),k(()=>l.academic_year_id,async t=>{if(Number(t)){let a=b({});l.academic_year_id&&(a.academic_year_id=l.academic_year_id),l.edu_plan_id&&(a.edu_plan_id=l.edu_plan_id);let i=await H(a).then(o=>o.result.data);L.value=i.map(o=>({id:o.id,name:o.semester+"-"+h("semester")}))}});function C(t){let a=[];return t.map(i=>{a.push(i)}),a}async function A(){u.value=!0;const t=await W(l);Object.assign(v,t),v.result.forEach(a=>{const i=C(a.list);P.value.push(i)}),P.value.forEach(a=>{r.value=[],a.forEach(i=>{r.value.push(i.hour),r.value.push(i.done_hour),r.value.push(i.relic_hour)}),r.value.push(a.reduce((i,o)=>i+o.hour,0)),r.value.push(a.reduce((i,o)=>i+o.done_hour,0)),r.value.push(a.reduce((i,o)=>i+o.relic_hour,0)),B.value.push(r.value)}),u.value=!1}return(t,a)=>{const i=f("a-select"),o=f("a-form-item"),R=f("b-card"),Y=f("b-collapse"),N=U("b-toggle");return c(),_("div",X,[e("div",ee,[e("div",te,[e("div",ae,[e("h5",se,s(t.$t("Training_statistics")),1),e("div",ie,[e("div",le,[V((c(),_("button",oe,[ne,E(s(t.$t("Filtr")),1)])),[[N,void 0,void 0,{"collapse-3":!0}]])])])])])]),e("div",de,[n(Y,{visible:"",id:"collapse-3"},{default:m(()=>[n(R,null,{default:m(()=>[e("form",{class:"row",onSubmit:F(A,["prevent"])},[n(o,{class:"my-2 col-md-6",name:"curriculum"},{default:m(()=>[n(i,{value:l.edu_plan_id,"onUpdate:value":a[0]||(a[0]=d=>l.edu_plan_id=d),options:p.optionaEduPlanByList,"field-names":{value:"id",label:"name"},placeholder:w(h)("Choose_a_curriculum"),"allow-clear":""},null,8,["value","options","placeholder"])]),_:1}),n(o,{class:"my-2 col-md-6",name:"educationYear"},{default:m(()=>[n(i,{value:l.academic_year_id,"onUpdate:value":a[1]||(a[1]=d=>l.academic_year_id=d),options:p.optionacademicYearsList,placeholder:w(h)("Choose_Education_Year"),"field-names":{value:"id",label:"name"},"allow-clear":"",disabled:!l.edu_plan_id},null,8,["value","options","placeholder","disabled"])]),_:1}),n(o,{class:"my-2 col-md-6",name:"semester"},{default:m(()=>[n(i,{value:l.semester_id,"onUpdate:value":a[2]||(a[2]=d=>l.semester_id=d),options:L.value,placeholder:w(h)("Select_semester"),"field-names":{value:"id",label:"name"},disabled:!l.academic_year_id,"allow-clear":""},null,8,["value","options","placeholder","disabled"])]),_:1}),n(o,{class:"my-2 col-md-3",name:"group"},{default:m(()=>[n(i,{value:l.academic_group_id,"onUpdate:value":a[3]||(a[3]=d=>l.academic_group_id=d),options:p.optionacademicGroupListById,placeholder:w(h)("Select_a_group"),"field-names":{value:"id",label:"name"},disabled:!l.edu_plan_id,"allow-clear":""},null,8,["value","options","placeholder","disabled"])]),_:1}),e("div",ce,[e("button",{disabled:!l.academic_group_id,class:"btn-search c-save",type:"submit"},[_e,E(s(t.$t("View_Academic_Sheet")),1)],8,re)])],32)]),_:1})]),_:1})]),e("div",ue,[e("div",pe,[u.value?(c(),z(J,{key:0})):M("",!0),v.result.length>0?(c(),_("div",me,[e("table",null,[e("thead",null,[e("tr",null,[he,e("th",ye,s(t.$t("student_Sciences")),1),e("th",ve,s(t.$t("Lecture")),1),e("th",be,s(t.$t("Laboratory")),1),e("th",fe,s(t.$t("Practical")),1),e("th",we,s(t.$t("Seminar")),1),e("th",ge,s(t.$t("Total_Point")),1)]),e("tr",null,[e("th",$e,s(t.$t("Plan")),1),e("th",Le,s(t.$t("In_practice")),1),e("th",Be,s(t.$t("Remained")),1),e("th",Pe,s(t.$t("Plan")),1),e("th",ke,s(t.$t("In_practice")),1),e("th",Ee,s(t.$t("Remained")),1),e("th",Ie,s(t.$t("Plan")),1),e("th",Se,s(t.$t("In_practice")),1),e("th",Ce,s(t.$t("Remained")),1),e("th",Ae,s(t.$t("Plan")),1),e("th",Re,s(t.$t("In_practice")),1),e("th",Ye,s(t.$t("Remained")),1),e("th",Ne,s(t.$t("Plan")),1),e("th",De,s(t.$t("In_practice")),1),e("th",Ge,s(t.$t("Remained")),1)])]),e("tbody",null,[(c(!0),_(I,null,S(v.result,(d,g)=>(c(),_("tr",{key:g},[e("td",null,s(+g+1),1),e("td",je,s(d.subject),1),(c(!0),_(I,null,S(B.value[g],(D,Te)=>(c(),_("td",null,s(D),1))),256))]))),128))])])])):(c(),_("div",Oe,[n(K)]))])])])}}});export{He as default};
