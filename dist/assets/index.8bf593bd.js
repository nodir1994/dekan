import{_ as z}from"./Pagination.f4a9fc5d.js";import{_ as T}from"./LoadingOverlay.vue_vue_type_script_setup_true_lang.89ce9ad6.js";/* empty css                                                       */import{d as V,a as x,bO as D,B as P,Z as y,c as M,h as R,y as q,w as h,i as f,b6 as A,o as u,e as p,f as a,t as l,bs as Z,z as g,j as d,k as _,v as H,g as O,s as B,l as w,F as J,r as K,aR as Q}from"./index.3390162f.js";import{j as W}from"./index.30e99442.js";import{a as X,b as ee,s as ae}from"./id.5a6e5f30.js";import{g as se,a as te}from"./performance.6cf94fc6.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./vue.runtime.esm-bundler.84001772.js";const oe={pagetitle:"`Reyting qaytnoma`",class:"performancePage"},le={class:"card panel-header-bg"},ie={class:"card-body"},ne={class:"panel-header"},de={class:"card-title"},ce={class:"panel-toggles"},re={class:"filterBlock"},ue={class:"btns c-filter py-1.5 px-4"},_e=a("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),pe={class:"collapse__block"},me={class:"my-2 col-xl-6 form--item"},fe={for:"yu"},he={class:"my-2 col-xl-6 form--item"},be={for:"yu"},ve={class:"my-2 col-xl-3 form--item"},ye={for:"yu"},ge={class:"my-2 col-xl-3 form--item"},Oe={class:"my-2 col-xl-3 form--item"},we={for:"yu"},$e={class:"my-2 col-xl-3"},je=["disabled"],ke=a("i",{class:"mdi mdi-eye me-2"},null,-1),Ce={class:"row table-division"},Pe={class:"col-xl-12"},Be={class:"card"},Ne={class:"card-body"},Ge={key:1,class:"table-responsive"},Se={class:"content-table"},Ye={class:"table-row d-grid w-100"},Le=a("th",null,"#",-1),Ie={class:"list-inline mb-0"},Ue={class:"list-inline-item"},Ee=a("i",{class:"far fa-eye font-size-16 text-primary"},null,-1),Fe={key:2},ze={class:"text-center"},Te={class:"text-center"},Ve={key:0,class:"element-count mb-2"},Xe=V({__name:"index",setup(xe){const{t:m}=x();D();const b=P(!1),N=y({}),G=M(()=>{var s,t;return(t=(s=v==null?void 0:v.user)==null?void 0:s.faculty)==null?void 0:t.name}),v=R(),e=y({search:"",data:[],edu_plan_id:null,academic_year_id:null,course:null,semester_id:null,academic_group_id:null,subject_id:null,per_page:null,current_page:null}),n=y({eduPlanOptions:null,academicYearsOptions:null,semesterOptions:null,academicGroupOptions:null,courseBottomOptions:null,subjectOptions:null}),S=P(!0);q(async()=>{n.eduPlanOptions=await W().then(s=>{var t;return(t=s==null?void 0:s.result)==null?void 0:t.data})}),h(()=>e.edu_plan_id,async()=>{var s,t;if(e.academic_year_id=null,e.semester_id=null,e.academic_group_id=null,e.subject_id=null,n.academicYearsOptions=null,n.academicGroupOptions=null,n.semesterOptions=null,n.subjectOptions=null,e.edu_plan_id){let i=await X(e.edu_plan_id);n.academicYearsOptions=(s=i==null?void 0:i.result)==null?void 0:s.data.map(r=>({id:r.id,name:r.name}));let c=await ee(e.edu_plan_id);n.academicGroupOptions=(t=c==null?void 0:c.result)==null?void 0:t.data.map(r=>({id:r.id,name:r.name}))}}),h(()=>e.academic_year_id,async()=>{var s;if(e.semester_id=null,n.semesterOptions=null,e.edu_plan_id&&e.academic_year_id){let t=await ae(e);n.semesterOptions=(s=t==null?void 0:t.result)==null?void 0:s.data.map(i=>({id:i.id,semester:i.semester,name:i.course+"-"+m("course")+" "+i.semester+"-"+m("semester")}))}}),h(()=>e.semester_id,async()=>{var s;if(e.subject_id=null,n.subjectOptions=null,e.edu_plan_id&&e.semester_id){let t=await se(e.edu_plan_id,e.semester_id);n.subjectOptions=(s=t==null?void 0:t.result)==null?void 0:s.map(i=>{var c,r;return{id:(c=i==null?void 0:i.subject)==null?void 0:c.id,name:(r=i==null?void 0:i.subject)==null?void 0:r.name}})}}),h(()=>e.current_page,async s=>{Number(s)&&(e.page=Number(s),await $(s))});async function Y(){await $()}async function $(s=1){b.value=!0;try{if(Object.assign(N,e),e.semester_id&&e.academic_group_id){S.value=!1;const t={semester_id:e.semester_id,academic_group_id:e.academic_group_id,page:s},i=await te(t);Object.assign(e,i==null?void 0:i.result)}}catch(t){console.log(t)}finally{b.value=!1}}return(s,t)=>{const i=f("a-select"),c=f("a-space"),r=f("b-card"),L=f("b-collapse"),I=T,j=f("router-link"),U=z,E=A("b-toggle");return u(),p("div",oe,[a("div",le,[a("div",ie,[a("div",ne,[a("h5",de,l(s.$t("Performance_Performance")),1),a("div",ce,[a("div",re,[Z((u(),p("button",ue,[_e,g(l(s.$t("Filter")),1)])),[[E,void 0,void 0,{"collapse-3":!0}]])])])])])]),a("div",pe,[d(L,{visible:"",id:"collapse-3"},{default:_(()=>[d(r,null,{default:_(()=>[a("form",{class:"row",onSubmit:t[4]||(t[4]=H(()=>{},["prevent"]))},[a("div",me,[d(c,null,{default:_(()=>[d(i,{class:"form--item",value:G.value,disabled:""},null,8,["value"])]),_:1}),a("label",fe,l(s.$t("Choose_faculty")),1)]),a("div",he,[d(c,null,{default:_(()=>[d(i,{"allow-clear":"",value:e.edu_plan_id,"onUpdate:value":t[0]||(t[0]=o=>e.edu_plan_id=o),"field-names":{value:"id",label:"name"},options:n.eduPlanOptions,placeholder:s.$t("Please_select_curriculum")},null,8,["value","options","placeholder"])]),_:1}),a("label",be,l(s.$t("Choose_Curriculum")),1)]),a("div",ve,[d(c,null,{default:_(()=>[d(i,{"allow-clear":"",value:e.academic_year_id,"onUpdate:value":t[1]||(t[1]=o=>e.academic_year_id=o),"field-names":{value:"id",label:"name"},options:n.academicYearsOptions,disabled:!e.edu_plan_id,placeholder:O(m)("Choose_Education_Year")},null,8,["value","options","disabled","placeholder"])]),_:1}),a("label",ye,l(s.$t("Choose_Education_Year")),1)]),a("div",ge,[d(c,null,{default:_(()=>[d(i,{"allow-clear":"",value:e.semester_id,"onUpdate:value":t[2]||(t[2]=o=>e.semester_id=o),"field-names":{value:"id",label:"name"},options:n.semesterOptions,disabled:!e.academic_year_id,placeholder:O(m)("Choose_Semester")},null,8,["value","options","disabled","placeholder"])]),_:1}),a("label",null,l(s.$t("Choose_Semester")),1)]),a("div",Oe,[d(c,null,{default:_(()=>[d(i,{"allow-clear":"",value:e.academic_group_id,"onUpdate:value":t[3]||(t[3]=o=>e.academic_group_id=o),"field-names":{value:"id",label:"name"},options:n.academicGroupOptions,disabled:!e.edu_plan_id,placeholder:O(m)("Choose_Group")},null,8,["value","options","disabled","placeholder"])]),_:1}),a("label",we,l(s.$t("Choose_Group")),1)]),a("div",$e,[a("button",{disabled:!e.edu_plan_id||!e.academic_group_id||!e.academic_year_id||!e.semester_id,onClick:Y,class:"btn-search c-save",type:"submit"},[ke,g(l(s.$t("View")),1)],8,je)])],32)]),_:1})]),_:1})]),a("div",Ce,[a("div",Pe,[a("div",Be,[a("div",Ne,[b.value?(u(),B(I,{key:0})):w("",!0),e.data.length>0?(u(),p("div",Ge,[a("table",Se,[a("thead",null,[a("tr",Ye,[Le,a("th",null,l(s.$t("Group_name")),1),a("th",null,l(s.$t("Subjects")),1),a("th",null,l(s.$t("Exam_Type")),1),a("th",null,l(s.$t("Education_Year_Name")),1),a("th",null,l(s.$t("Semester_Name")),1),a("th",null,l(s.$t("action")),1)])]),a("tbody",null,[(u(!0),p(J,null,K(e.data,(o,F)=>{var k,C;return u(),p("tr",{class:"table-row d-grid w-100",key:o.id},[a("td",null,l(F+1+(e.current_page-1)*e.per_page),1),a("td",null,[d(j,{to:{path:"/performance/performance/"+o.id}},{default:_(()=>[g(l(o==null?void 0:o.academic_group),1)]),_:2},1032,["to"])]),a("td",null,l(o==null?void 0:o.subject),1),a("td",null,l(o==null?void 0:o.exam_type)+" | "+l(o==null?void 0:o.final_exam_position),1),a("td",null,l((k=o==null?void 0:o.semester)==null?void 0:k.academic_year),1),a("td",null,l((C=o==null?void 0:o.semester)==null?void 0:C.semester)+" - "+l(s.$t("semestr")),1),a("td",null,[a("ul",Ie,[a("li",Ue,[d(j,{to:{path:"/performance/performance/"+o.id}},{default:_(()=>[Ee]),_:2},1032,["to"])])])])])}),128))])]),e.data.length?(u(),B(U,Q({key:0,class:"mt-2"},{...e},{"current-page":e.current_page,"onUpdate:currentPage":t[5]||(t[5]=o=>e.current_page=o)}),null,16,["current-page"])):w("",!0)])):(u(),p("div",Fe,[a("h5",ze,l(s.$t("No_data")),1),a("p",Te,l(s.$t("No_information_found")),1)]))])]),e.total?(u(),p("span",Ve,l(e.current_page)+"-"+l((e==null?void 0:e.data.length)+e.per_page*(e.current_page-1))+"/ "+l(s.$t("Total_Point"))+": "+l(e.total),1)):w("",!0)])])])}}});export{Xe as default};
