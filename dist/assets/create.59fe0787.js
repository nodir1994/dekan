import{_ as U}from"./Pagination.f4a9fc5d.js";import{d as L,a as z,bO as R,B as T,Z as O,bq as V,y as j,w as u,i as h,b6 as A,o as p,e as y,f as t,t as i,j as a,k as n,z as v,bs as I,g as _,F as q,r as x,s as M,aR as Z,l as H}from"./index.3390162f.js";import{e as J,b as K,a8 as Q}from"./index.30e99442.js";import{b as W}from"./give.14ed0249.js";import{l as X,g as Y}from"./id.5a6e5f30.js";import{h as m}from"./helper.569bc08f.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";const D={pagetitle:"'Diplom berish'",class:"award"},ee={class:"card panel-header-bg"},te={class:"card-body"},oe={class:"panel-header"},le={class:"card-title"},se={class:"panel-toggles"},ie={class:"btns black-c py-1.5 px-4 me-2",type:"submit"},ae=t("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1"},null,-1),de={class:"filterBlock"},ne={class:"btns c-filter py-1.5 px-4"},ce=t("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),re={class:"collapse__block"},_e={class:"row"},ue={class:"my-2 col-xl-3 form--item"},pe={for:"yu"},me={class:"my-2 col-xl-3 form--item"},fe={class:"my-2 col-xl-3 form--item"},he={for:"yu"},ye={class:"my-2 col-xl-3 form--item"},ge={for:"yu"},ve={class:"my-2 col-xl-3 form--item"},be={for:"yu"},we={class:"my-2 col-xl-7 form--item"},Oe={for:"yu"},$e={class:"my-2 col-xl-2"},Ne=t("i",{class:"mdi mdi-magnify font-size-14 align-middle me-1"},null,-1),ke={class:"card"},Te={class:"card-body"},Be={key:0,class:"table-responsive"},Ce={class:"content-table"},Fe={class:"table-row-gived2"},Se=t("th",null,"#",-1),Ee={class:"badge bg-success"},Ge=t("i",{class:"mdi mdi-plus font-size-14 align-middle me-1"},null,-1),Pe={key:1},Ue={class:"text-center"},Le={class:"text-center"},ze={class:"element-count mb-2"},Je=L({__name:"create",async setup(Re){let $,N;const{t:b}=z();R();const k=T(!1),e=O({search:"",specialty_id:null,edu_type_id:null,academic_group_id:null,edu_form_id:null,diplom_category_id:null,data:[],links:[],students:[],current_page:1,per_page:m.pagePer}),d=O({eduTypeOptions:null,eduFormOptions:null,specialOptions:null,academicGroupOptions:null,diplomTypeOptions:null}),w=T(!0);[$,N]=V(()=>r()),await $,N(),j(async()=>{d.eduTypeOptions=await J().then(o=>o.result),d.eduFormOptions=await K().then(o=>o.result),d.diplomTypeOptions=await Q().then(o=>o.result)}),u(()=>e.edu_type_id,async()=>{await r(),e.specialty_id=null,d.specialOptions=null,e.edu_type_id&&(d.specialOptions=await X(e.edu_type_id).then(o=>{var l;return(l=o.result)==null?void 0:l.data}))}),u(()=>e.edu_form_id,async()=>{await r()}),u(()=>e.diplom_category_id,async()=>{await r()}),u(()=>e.specialty_id,async()=>{var o;if(e.academic_group_id=null,d.academicGroupOptions=null,await r(),e.specialty_id){let l=await Y(e.specialty_id);d.academicGroupOptions=(o=l==null?void 0:l.result)==null?void 0:o.data.map(c=>({id:c.id,name:c.name}))}}),u(()=>[e.edu_form_id,e.academic_group_id],async(o,l)=>{await r()}),u(()=>e.current_page,async o=>{Number(o)&&(e.page=Number(o),await r(o))}),u(()=>e.academic_group_id,async()=>{await r()}),O({});async function B(){await r()}async function r(o){let l={page:e==null?void 0:e.page};o||(l.page=o),e.search.length>0&&(l.search=e==null?void 0:e.search),e.edu_type_id&&(l.edu_type_id=e==null?void 0:e.edu_type_id),e.edu_form_id&&(l.edu_form_id=e==null?void 0:e.edu_form_id),e.specialty_id&&(l.specialty_id=e==null?void 0:e.specialty_id),e.academic_group_id&&(l.academic_group_id=e==null?void 0:e.academic_group_id),e.diplom_category_id&&(l.diplom_category_id=e==null?void 0:e.diplom_category_id);try{if(k.value=!0,w.value){w.value=!1;const c=await W(l);Object.assign(e,c.result),setTimeout(()=>{w.value=!0},m.loaderRefresh)}}catch(c){console.log(c)}finally{k.value=!1}}return(o,l)=>{const c=h("router-link"),g=h("a-select"),f=h("a-space"),C=h("a-input"),F=h("b-card"),S=h("b-collapse"),E=U,G=A("b-toggle");return p(),y("div",D,[t("div",ee,[t("div",te,[t("div",oe,[t("h5",le,i(o.$t("archive_Diploma")),1),t("div",se,[a(c,{to:"/archive/diplom-give"},{default:n(()=>[t("button",ie,[ae,v(i(o.$t("Prev")),1)])]),_:1}),t("div",de,[I((p(),y("button",ne,[ce,v(i(o.$t("Filter")),1)])),[[G,void 0,void 0,{"collapse-3":!0}]])])])])])]),t("div",re,[a(S,{visible:"",id:"collapse-3"},{default:n(()=>[a(F,null,{default:n(()=>[t("div",_e,[t("div",ue,[a(f,null,{default:n(()=>[a(g,{"filter-option":_(m).filterOptionByName,"show-search":"","allow-clear":"",value:e.edu_type_id,"onUpdate:value":l[0]||(l[0]=s=>e.edu_type_id=s),"field-names":{value:"id",label:"name"},options:d.eduTypeOptions,placeholder:_(b)("Choose_Education_Type")},null,8,["filter-option","value","options","placeholder"])]),_:1}),t("label",pe,i(o.$t("Choose_Education_Type")),1)]),t("div",me,[a(f,null,{default:n(()=>[a(g,{"filter-option":_(m).filterOptionByName,"show-search":"","allow-clear":"",value:e.edu_form_id,"onUpdate:value":l[1]||(l[1]=s=>e.edu_form_id=s),"field-names":{value:"id",label:"name"},options:d.eduFormOptions,placeholder:_(b)("Choose_Education_Form")},null,8,["filter-option","value","options","placeholder"])]),_:1}),t("label",null,i(o.$t("Choose_Education_Form")),1)]),t("div",fe,[a(f,null,{default:n(()=>[a(g,{"filter-option":_(m).filterOptionByName,"show-search":"","allow-clear":"",value:e.specialty_id,"onUpdate:value":l[2]||(l[2]=s=>e.specialty_id=s),"field-names":{value:"id",label:"name"},options:d.specialOptions,disabled:!e.edu_type_id,placeholder:o.$t("Please_select_curriculum")},null,8,["filter-option","value","options","disabled","placeholder"])]),_:1}),t("label",he,i(o.$t("select__specialty")),1)]),t("div",ye,[a(f,null,{default:n(()=>[a(g,{"filter-option":_(m).filterOptionByName,"show-search":"","allow-clear":"",value:e.academic_group_id,"onUpdate:value":l[3]||(l[3]=s=>e.academic_group_id=s),"field-names":{value:"id",label:"name"},disabled:!e.specialty_id,options:d.academicGroupOptions,placeholder:_(b)("Choose_Group")},null,8,["filter-option","value","disabled","options","placeholder"])]),_:1}),t("label",ge,i(o.$t("Choose_Group")),1)]),t("div",ve,[a(f,null,{default:n(()=>[a(g,{"filter-option":_(m).filterOptionByName,"show-search":"","allow-clear":"",value:e.diplom_category_id,"onUpdate:value":l[4]||(l[4]=s=>e.diplom_category_id=s),"field-names":{value:"id",label:"name"},options:d.diplomTypeOptions,placeholder:_(b)("choose_diplom_type")},null,8,["filter-option","value","options","placeholder"])]),_:1}),t("label",be,i(o.$t("choose_diplom_type")),1)]),t("div",we,[a(f,null,{default:n(()=>[a(C,{id:"yu",value:e.search,"onUpdate:value":l[5]||(l[5]=s=>e.search=s),class:"form-control","allow-clear":""},null,8,["value"])]),_:1}),t("label",Oe,i(o.$t("Search_by_Diploma_Number_Register_Number")),1)]),t("div",$e,[t("button",{class:"btn-search search-color",onClick:B},[Ne,v(i(o.$t("Search")),1)])])])]),_:1})]),_:1})]),t("div",ke,[t("div",Te,[e.data.length?(p(),y("div",Be,[t("table",Ce,[t("thead",null,[t("tr",Fe,[Se,t("th",null,i(o.$t("Student")),1),t("th",null,i(o.$t("Education_Type")),1),t("th",null,i(o.$t("academic_Register_Number")),1)])]),t("tbody",null,[(p(!0),y(q,null,x(e.data,(s,P)=>(p(),y("tr",{class:"table-row-gived2",key:s.id},[t("td",null,i((e.current_page-1)*e.per_page+P+1),1),t("td",null,[a(c,{to:"/archive/diplom-give/edit?id="+(s==null?void 0:s.id)},{default:n(()=>[v(i(s.fullname)+" ",1),t("span",Ee,i(s.status_form),1)]),_:2},1032,["to"])]),t("td",null,i(s.edu_type),1),t("td",null,[a(c,{to:"/archive/diplom-give/edit?student_id="+(s==null?void 0:s.id),class:"btns c-save py-1.5 px-4 w-100 d-inline-block mb-2 text-center"},{default:n(()=>[Ge,v(i(o.$t("archive_Diploma_Create")),1)]),_:2},1032,["to"])])]))),128))])]),e.last_page>1?(p(),M(E,Z({key:0,class:"mt-2"},{...e},{"current-page":e.current_page,"onUpdate:currentPage":l[6]||(l[6]=s=>e.current_page=s)}),null,16,["current-page"])):H("",!0)])):(p(),y("div",Pe,[t("h5",Ue,i(o.$t("No_data")),1),t("p",Le,i(o.$t("No_information_found")),1)]))])]),t("span",ze,i(e==null?void 0:e.current_page)+"-"+i((e==null?void 0:e.data.length)+e.per_page*((e==null?void 0:e.current_page)-1))+"/ "+i(o.$t("Total_Point"))+": "+i(e==null?void 0:e.total),1)])}}});export{Je as default};
