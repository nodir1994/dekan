import{_ as E}from"./CurriculumForm.vue_vue_type_script_setup_true_lang.2e9a3400.js";import{f as j,u as q}from"./plan.0a3ba948.js";import{d as x,n as D,a as N,bO as O,B as V,Z as h,bq as I,i as $,o as g,e as P,f as t,j as l,k as b,z as u,t as _,s as S,l as z,bV as F}from"./index.3390162f.js";import{_ as A}from"./LoadingOverlay.vue_vue_type_script_setup_true_lang.89ce9ad6.js";/* empty css                                                       */import"./SubmitButton.vue_vue_type_script_setup_true_lang.fe21b651.js";import"./index.30e99442.js";import"./helper.569bc08f.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";import"./vue.runtime.esm-bundler.84001772.js";const L={pagetitle:"`O'quv reja yaratish`",class:"curriculumEditPage"},R={class:"card panel-header-bg"},T={class:"card-body"},Z={class:"panel-header"},G={class:"card-title"},H={class:"panel-toggles"},J={class:"btns black-c py-1.5 px-4",type:"submit"},K=t("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),M={class:"card"},Q={class:"card-body"},ce=x({__name:"index",async setup(U){var f,y;let d,m;const v=D(),{t:o}=N(),i=O(),a=V(!1),r=h({name:"",faculty_id:null,specialty_id:null,qualification_id:null,academic_year_id:null,edu_form_id:null,rating_system_id:null,term:null,count_semester:null,autumn_start:null,autumn_end:null,spring_start:null,spring_end:null}),n=h({name:[],faculty_id:[],specialty_id:[],qualification_id:[],academic_year_id:[],edu_form_id:[],rating_system_id:[],term:[],count_semester:[],autumn_start:[],autumn_end:[],spring_start:[],spring_end:[]}),p=(y=(f=v.params)==null?void 0:f.id)!=null?y:null;[d,m]=I(()=>k()),await d,m();async function k(){a.value=!0;const e=await j(p);Object.assign(r,e.result),a.value=!1}async function C(){var e,c;try{a.value=!0,Object.assign(n,{});const s=await q(p,r);i.success("["+r.name+"] - "+o("Curriculum_name_updated_successfully")),F.back()}catch(s){Object.assign(n,(c=(e=s.response)==null?void 0:e.data)==null?void 0:c.errors),s.response.status==422?i.error(o("Dashboard_Error")+": "+o("Fill_in_the_required_fields")):i.error(o("Dashboard_Error")+": "+s.message)}finally{a.value=!1}}function B(e){n[e]=[]}return(e,c)=>{const s=$("router-link"),w=E;return g(),P("div",L,[t("div",R,[t("div",T,[t("div",Z,[t("h5",G,[l(s,{to:"/curriculum/curriculum"},{default:b(()=>[u(_(e.$t("Curriculum"))+" / ",1)]),_:1}),u(" "+_(r.name),1)]),t("div",H,[l(s,{to:"/curriculum/curriculum"},{default:b(()=>[t("button",J,[K,u(_(e.$t("Back")),1)])]),_:1})])])])]),t("div",M,[t("div",Q,[a.value?(g(),S(A,{key:0})):z("",!0),l(w,{"form-state":r,errors:n,"is-loading":a.value,onSubmit:C,onClearError:B},null,8,["form-state","errors","is-loading"])])])])}}});export{ce as default};
