import{_ as y}from"./CurriculumForm.vue_vue_type_script_setup_true_lang.2e9a3400.js";import{c as b}from"./plan.0a3ba948.js";import{d as v,a as k,bO as C,B as E,Z as f,i as O,o as j,e as w,f as t,j as u,k as p,z as _,t as d,bV as B}from"./index.3390162f.js";import"./SubmitButton.vue_vue_type_script_setup_true_lang.fe21b651.js";import"./index.30e99442.js";import"./helper.569bc08f.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";const D={pagetitle:"`O'quv reja yaratish`",class:"curriculumEditPage"},N={class:"card panel-header-bg"},q={class:"card-body"},V={class:"panel-header"},$={class:"card-title"},z={class:"panel-toggles"},F={class:"btns black-c py-1.5 px-4",type:"submit"},P=t("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),S={class:"card"},x={class:"card-body"},M=v({__name:"create",setup(I){const{t:a}=k(),o=C(),c=E(!1),r=f({name:"",faculty_id:null,specialty_id:null,qualification_id:null,academic_year_id:null,edu_form_id:null,rating_system_id:null,term:null,count_semester:null,autumn_start:null,autumn_end:null,spring_start:null,spring_end:null}),i=f({name:[],faculty_id:[],specialty_id:[],qualification_id:[],academic_year_id:[],edu_form_id:[],rating_system_id:[],term:[],count_semester:[],autumn_start:[],autumn_end:[],spring_start:[],spring_end:[],asfasf:[]});async function h(){var s,l;try{c.value=!0,Object.assign(i,{});const e=new FormData;Object.getOwnPropertyNames(r).forEach(n=>{!["id","citizenship","user_id"].includes(n)&&r[n]&&e.append(n,r[n])});const m=await b(e);o.success(a("Curriculum_name_created_successfully")),B.back()}catch(e){Object.assign(i,(l=(s=e.response)==null?void 0:s.data)==null?void 0:l.errors),e.response.status==422?o.error(a("Dashboard_Error")+": "+a("Fill_in_the_required_fields")):o.error(a("Dashboard_Error")+": "+e.message)}finally{c.value=!1}}function g(s){i[s]=[]}return(s,l)=>{const e=O("router-link"),m=y;return j(),w("div",D,[t("div",N,[t("div",q,[t("div",V,[t("h5",$,[u(e,{to:"/curriculum/curriculum"},{default:p(()=>[_(d(s.$t("Curriculum")),1)]),_:1}),_(" / "+d(s.$t("Create_curriculum")),1)]),t("div",z,[u(e,{to:"/curriculum/curriculum"},{default:p(()=>[t("button",F,[P,_(d(s.$t("Back")),1)])]),_:1})])])])]),t("div",S,[t("div",x,[u(m,{"form-state":r,errors:i,"is-loading":c.value,onSubmit:h,onClearError:g},null,8,["form-state","errors","is-loading"])])])])}}});export{M as default};
