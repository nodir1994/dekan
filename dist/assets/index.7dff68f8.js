import{_ as K}from"./NoData.ac42776e.js";import{_ as R}from"./Pagination.f4a9fc5d.js";import{_ as q}from"./LoadingOverlay.vue_vue_type_script_setup_true_lang.89ce9ad6.js";/* empty css                                                       */import{d as I,a as Z,bO as D,B as p,Z as w,y as G,w as A,bq as H,i as m,b6 as J,o as c,e as u,f as e,t as a,j as n,k as r,z as f,bs as Q,g as k,s as O,l as $,F as W,r as X,aR as x}from"./index.3390162f.js";import{a as ee,e as te,f as se}from"./index.30e99442.js";import{d as ae,a as oe}from"./index.e7beba24.js";import{h as v}from"./helper.569bc08f.js";/* empty css                                                               */import"./_plugin-vue_export-helper.cdc0426e.js";import"./vue.runtime.esm-bundler.84001772.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";const le=["pagetitle"],ne={class:"card panel-header-bg"},ie={class:"card-body"},ce={class:"panel-header"},re={class:"card-title"},de={class:"panel-toggles"},_e=e("i",{class:"mdi mdi-plus font-size-14 align-middle me-1"},null,-1),ue=e("i",{class:"fas fa-users me-1"},null,-1),pe={class:"filterBlock"},me={class:"btns c-filter py-1.5 px-4"},he=e("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),fe={class:"collapse__block"},ve={class:"row"},ye={class:"my-2 col-xl-4 form--item"},ge={for:"yu"},be={class:"my-2 col-xl-4 form--item"},we={for:"yu"},ke={class:"my-2 col-xl-4 form--item"},$e={for:"yu"},Ce={class:"row table-division"},Le={class:"col-xl-12"},Ne={class:"card"},Be={class:"card-body"},Pe={key:1,class:"table-responsive"},Ee={class:"content-table"},Te={class:"table-row"},Ae=e("th",null,"#",-1),Oe=e("sup",null," \u26AC",-1),Ve={class:"justify-content-center"},je={class:"list-inline mb-0"},Se={class:"list-inline-item"},Ue={class:"edit__project"},Ye=e("i",{class:"mdi mdi-pencil"},null,-1),ze={class:"form-check form-switch my-auto"},Fe=["checked","disabled","onChange"],Me={key:2,class:"table-responsive"},Ke={key:0,class:"element-count mb-2"},at=I({__name:"index",async setup(Re){let C,L;const{t:N}=Z(),B=D(),d=p(!1),P=p(),E=p(),T=p(),y=p(!0),s=w({current_page:1,data:[],links:[]}),i=w({department_id:null,academic_year_id:null,edu_type_id:null,page:1,per_page:v.pagePer});G(async()=>{P.value=await ee().then(t=>t.result.data),E.value=await te().then(t=>t.result),T.value=await se().then(t=>t.result)}),A(()=>[i.academic_year_id,i.edu_type_id,i.department_id],async(t,l)=>{await h()}),A(()=>s.current_page,async t=>{await h(t)}),[C,L]=H(()=>h()),await C,L();async function h(t){d.value=!0,delete i.page;let l=w({...i,page:t||1});try{if(y.value){y.value=!1;const _=await ae(l);Object.assign(s,_.result),setTimeout(()=>{y.value=!0},100)}}catch(_){console.log(_)}finally{d.value=!1}}async function V(t){try{d.value=!0,await oe(t),await h(),B.success(N("Data_stored_successfully"))}catch{B.error(N("Dashboard_Error"))}finally{d.value=!1}}return(t,l)=>{const _=m("router-link"),g=m("a-select"),b=m("a-space"),j=m("b-card"),S=m("b-collapse"),U=q,Y=R,z=K,F=J("b-toggle");return c(),u("div",{pagetitle:t.$t("DAK results"),class:"certificatePage"},[e("div",ne,[e("div",ie,[e("div",ce,[e("h5",re,a(t.$t("DAK list")),1),e("div",de,[n(_,{to:"/archive/certificate-committee/create",class:"btns c-save py-1.5 px-4 me-3"},{default:r(()=>[_e,f(a(t.$t("add")),1)]),_:1}),n(_,{to:"/archive/certificate-committee/certificate-committee-member",class:"btns application-color py-1.5 px-4 me-3"},{default:r(()=>[ue,f(a(t.$t("Members")),1)]),_:1}),e("div",pe,[Q((c(),u("button",me,[he,f(a(t.$t("Filter")),1)])),[[F,void 0,void 0,{"collapse-3":!0}]])])])])])]),e("div",fe,[n(S,{visible:"",id:"collapse-3"},{default:r(()=>[n(j,null,{default:r(()=>[e("div",ve,[e("div",ye,[n(b,null,{default:r(()=>[n(g,{"filter-option":k(v).filterOptionByName,value:i.edu_type_id,"onUpdate:value":l[0]||(l[0]=o=>i.edu_type_id=o),options:E.value,"field-names":{value:"id",label:"name"},"allow-clear":"","show-search":""},null,8,["filter-option","value","options"])]),_:1}),e("label",ge,a(t.$t("Choose_Education_Type")),1)]),e("div",be,[n(b,null,{default:r(()=>[n(g,{"filter-option":k(v).filterOptionByName,value:i.academic_year_id,"onUpdate:value":l[1]||(l[1]=o=>i.academic_year_id=o),"field-names":{value:"id",label:"name"},options:P.value,"allow-clear":"","show-search":""},null,8,["filter-option","value","options"])]),_:1}),e("label",we,a(t.$t("Choose_Education_Year")),1)]),e("div",ke,[n(b,null,{default:r(()=>[n(g,{"filter-option":k(v).filterOptionByName,value:i.department_id,"onUpdate:value":l[2]||(l[2]=o=>i.department_id=o),"field-names":{value:"id",label:"name"},options:T.value,"allow-clear":"","show-search":""},null,8,["filter-option","value","options"])]),_:1}),e("label",$e,a(t.$t("Choose_Department")),1)])])]),_:1})]),_:1})]),e("div",Ce,[e("div",Le,[e("div",Ne,[e("div",Be,[d.value?(c(),O(U,{key:0})):$("",!0),s.data.length?(c(),u("div",Pe,[e("table",Ee,[e("thead",null,[e("tr",Te,[Ae,e("th",null,[f(a(t.$t("Name"))+" ",1),Oe]),e("th",null,a(t.$t("Publication_Property_Type")),1),e("th",null,a(t.$t("Education_Type")),1),e("th",null,a(t.$t("by_Specialty")),1),e("th",null,a(t.$t("Department")),1),e("th",null,a(t.$t("Education_Year_Name")),1),e("th",null,a(t.$t("Members_count")),1),e("th",null,a(t.$t("Actions")),1),e("th",null,a(t.$t("Enable")),1)])]),e("tbody",null,[(c(!0),u(W,null,X(s==null?void 0:s.data,(o,M)=>(c(),u("tr",{class:"table-row",key:o.id},[e("td",null,a((s.current_page-1)*s.per_page+M+1),1),e("td",null,a(o.name),1),e("td",null,a(o.type),1),e("td",null,a(o.edu_type),1),e("td",null,a(o.specialty),1),e("td",null,a(o.department),1),e("td",null,a(o.academic_year),1),e("td",null,a(o.dak_members_count),1),e("td",Ve,[e("ul",je,[e("li",Se,[e("div",Ue,[n(_,{to:`/archive/certificate-committee/edit/${o.id}`},{default:r(()=>[Ye]),_:2},1032,["to"])])])])]),e("td",null,[e("div",ze,[e("input",{class:"form-check-input",type:"checkbox",checked:o.status,disabled:d.value,onChange:qe=>V(o==null?void 0:o.id)},null,40,Fe)])])]))),128))])]),s.last_page>1?(c(),O(Y,x({key:0,class:"mt-2"},{...s},{"current-page":s.current_page,"onUpdate:currentPage":l[3]||(l[3]=o=>s.current_page=o),loading:d.value}),null,16,["current-page","loading"])):$("",!0)])):(c(),u("div",Me,[n(z)]))])])])]),s!=null&&s.total?(c(),u("span",Ke,a(s==null?void 0:s.current_page)+"-"+a((s==null?void 0:s.data.length)+s.per_page*((s==null?void 0:s.current_page)-1))+"/ "+a(t.$t("Total_Point"))+": "+a(s==null?void 0:s.total),1)):$("",!0)],8,le)}}});export{at as default};
