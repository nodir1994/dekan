import{_ as I}from"./Pagination.f4a9fc5d.js";import{d as L,h as S,c as z,a as j,bO as V,B as N,Z as w,bq as q,y as A,w as b,i as g,b6 as M,o as h,e as y,f as o,j as a,k as c,z as _,t as e,bs as R,g as p,F as Z,r as H,s as J,aR as K,l as Q}from"./index.3390162f.js";import{e as W,b as X}from"./index.30e99442.js";import{a as Y}from"./transcript.605beb58.js";import{l as x,e as D,b as ss,f as os}from"./id.5a6e5f30.js";import{h as m}from"./helper.569bc08f.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";const ts={pagetitle:"`Transkript`",class:"diploma-list"},ls={class:"card panel-header-bg"},es={class:"card-body"},is={class:"panel-header"},as={class:"card-title"},ds={class:"panel-toggles"},ns={class:"filterBlock"},cs={class:"btns c-filter py-1.5 px-4 me-2 d-inline-block"},rs=o("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),_s=o("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),us={class:"collapse__block"},ps={class:"row"},hs={class:"my-2 col-xl-4 form--item"},fs={for:"yu"},ys={class:"my-2 col-xl-4 form--item"},ms={for:"yu"},vs={class:"my-2 col-xl-4 form--item"},bs={for:"yu"},gs={class:"my-2 col-xl-4 form--item"},ws={class:"my-2 col-xl-4 form--item"},Os={for:"yu"},$s={class:"my-2 col-xl-4 form--item"},ks={for:"yu"},Cs={class:"row table-division"},Bs={class:"col-xl-12"},Ns={class:"card"},Ps={class:"card-body"},Ts={key:0,class:"table-responsive"},Fs={class:"content-table"},Es={class:"table-row-transcript-index23"},Gs=o("th",null,"#",-1),Us=o("br",null,null,-1),Is={style:{color:"#ccc"}},Ls=o("br",null,null,-1),Ss={style:{color:"#ccc"}},zs=o("br",null,null,-1),js={style:{color:"#ccc"}},Vs=o("br",null,null,-1),qs={style:{color:"#ccc"}},As=o("br",null,null,-1),Ms={style:{color:"#ccc"}},Rs={class:"action__td"},Zs=o("i",{class:"mdi mdi-plus"},null,-1),Hs={key:1},Js={class:"text-center"},Ks={class:"text-center"},Qs={class:"element-count mb-2"},io=L({__name:"create",async setup(Ws){let k,C;const O=S(),P=z(()=>{var l,i;return(i=(l=O==null?void 0:O.user)==null?void 0:l.faculty)==null?void 0:i.name}),{t:v}=j();V(),N(!1),w({});const s=w({search:"",specialty_id:null,edu_plan_id:null,edu_type_id:null,academic_group_id:null,edu_form_id:null,data:[],links:[],current_page:1,per_page:m.pagePer}),d=w({eduTypeOptions:null,specialOptions:null,eduFormOptions:null,eduPlanOptions:null,academicGroupOptions:null,semesterOptions:null}),$=N(!0);[k,C]=q(()=>f()),await k,C(),A(async()=>{d.eduTypeOptions=await W().then(l=>l.result),d.eduFormOptions=await X().then(l=>l.result)}),b(()=>s.edu_type_id,async()=>{await f(),s.specialty_id=null,d.specialOptions=null,s.edu_type_id&&(d.specialOptions=await x(s.edu_type_id).then(l=>{var i;return(i=l.result)==null?void 0:i.data}))}),b(()=>s.edu_form_id,async()=>{s.edu_plan_id=null,await f(),s.edu_form_id&&(d.eduPlanOptions=await D(s.edu_form_id).then(l=>{var i;return(i=l.result)==null?void 0:i.data}))}),b(()=>s.edu_plan_id,async()=>{var l,i;if(s.semester_id=null,s.academic_group_id=null,d.semesterOptions=null,d.academicGroupOptions=null,await f(),s.edu_plan_id){let u=await ss(s.edu_plan_id);d.academicGroupOptions=(l=u==null?void 0:u.result)==null?void 0:l.data.map(n=>({id:n.id,name:n.name}));let r=await os(s.edu_plan_id);d.semesterOptions=(i=r==null?void 0:r.result)==null?void 0:i.data.map(n=>({id:n.id,name:n.course+"-"+v("course")+" "+n.semester+"-"+v("semester")}))}}),b(()=>s.academic_group_id,async()=>{await f()}),b(()=>s.current_page,async l=>{Number(l)&&(s.page=Number(l),await f(l))}),w({command_id:[],reference_id:[],students:[]});async function f(l){let i={page:s==null?void 0:s.page};if(l||(i.page=l),s.edu_type_id&&(i.edu_type_id=s==null?void 0:s.edu_type_id),s.edu_form_id&&(i.edu_form_id=s==null?void 0:s.edu_form_id),s.specialty_id&&(i.specialty_id=s==null?void 0:s.specialty_id),s.edu_plan_id&&(i.edu_plan_id=s==null?void 0:s.edu_plan_id),s.academic_group_id&&(i.academic_group_id=s==null?void 0:s.academic_group_id),$.value){$.value=!1;const u=await Y(i);Object.assign(s,u.result),setTimeout(()=>{$.value=!0},100)}}return(l,i)=>{const u=g("router-link"),r=g("a-select"),n=g("a-space"),T=g("b-card"),F=g("b-collapse"),E=I,G=M("b-toggle");return h(),y("div",ts,[o("div",ls,[o("div",es,[o("div",is,[o("h5",as,[a(u,{to:"/archive/transcript"},{default:c(()=>[_(e(l.$t("archive_Transcript"))+" / ",1)]),_:1}),_(" "+e(l.$t("archive_Transcript_Edit")),1)]),o("div",ds,[o("div",ns,[R((h(),y("button",cs,[rs,_(e(l.$t("Filter")),1)])),[[G,void 0,void 0,{"collapse-3":!0}]]),a(u,{to:"/archive/transcript",class:"btns black-c py-1.5 px-4 d-inline-block"},{default:c(()=>[_s,_(e(l.$t("Prev")),1)]),_:1})])])])])]),o("div",us,[a(F,{visible:"",id:"collapse-3"},{default:c(()=>[a(T,null,{default:c(()=>[o("div",ps,[o("div",hs,[a(n,null,{default:c(()=>[a(r,{class:"form--item",value:P.value,disabled:""},null,8,["value"])]),_:1}),o("label",fs,e(l.$t("Choose_faculty")),1)]),o("div",ys,[a(n,null,{default:c(()=>[a(r,{"filter-option":p(m).filterOptionByName,"show-search":"","allow-clear":"",value:s.edu_type_id,"onUpdate:value":i[0]||(i[0]=t=>s.edu_type_id=t),"field-names":{value:"id",label:"name"},options:d.eduTypeOptions,placeholder:p(v)("Choose_Education_Type")},null,8,["filter-option","value","options","placeholder"])]),_:1}),o("label",ms,e(l.$t("Choose_Education_Type")),1)]),o("div",vs,[a(n,null,{default:c(()=>[a(r,{"filter-option":p(m).filterOptionByName,"show-search":"","allow-clear":"",value:s.specialty_id,"onUpdate:value":i[1]||(i[1]=t=>s.specialty_id=t),"field-names":{value:"id",label:"name"},options:d.specialOptions,disabled:!s.edu_type_id,placeholder:l.$t("Please_select_curriculum")},null,8,["filter-option","value","options","disabled","placeholder"])]),_:1}),o("label",bs,e(l.$t("select__specialty")),1)]),o("div",gs,[a(n,null,{default:c(()=>[a(r,{"filter-option":p(m).filterOptionByName,"show-search":"","allow-clear":"",value:s.edu_form_id,"onUpdate:value":i[2]||(i[2]=t=>s.edu_form_id=t),"field-names":{value:"id",label:"name"},options:d.eduFormOptions,placeholder:p(v)("Choose_Education_Form")},null,8,["filter-option","value","options","placeholder"])]),_:1}),o("label",null,e(l.$t("Choose_Education_Form")),1)]),o("div",ws,[a(n,null,{default:c(()=>[a(r,{"filter-option":p(m).filterOptionByName,"show-search":"","allow-clear":"",value:s.edu_plan_id,"onUpdate:value":i[3]||(i[3]=t=>s.edu_plan_id=t),"field-names":{value:"id",label:"name"},disabled:!s.edu_form_id,options:d.eduPlanOptions,placeholder:l.$t("Please_select_curriculum")},null,8,["filter-option","value","disabled","options","placeholder"])]),_:1}),o("label",Os,e(l.$t("Choose_Curriculum")),1)]),o("div",$s,[a(n,null,{default:c(()=>[a(r,{"filter-option":p(m).filterOptionByName,"show-search":"","allow-clear":"",value:s.academic_group_id,"onUpdate:value":i[4]||(i[4]=t=>s.academic_group_id=t),"field-names":{value:"id",label:"name"},disabled:!s.specialty_id,options:d.academicGroupOptions,placeholder:p(v)("Choose_Group")},null,8,["filter-option","value","disabled","options","placeholder"])]),_:1}),o("label",ks,e(l.$t("Choose_Group")),1)])])]),_:1})]),_:1})]),o("div",Cs,[o("div",Bs,[o("div",Ns,[o("div",Ps,[s.data.length?(h(),y("div",Ts,[o("table",Fs,[o("thead",null,[o("tr",Es,[Gs,o("th",null,e(l.$t("Student")),1),o("th",null,e(l.$t("Education_Type")),1),o("th",null,e(l.$t("by_Specialty")),1),o("th",null,e(l.$t("Group")),1),o("th",null,e(l.$t("Number")),1),o("th",null,e(l.$t("action")),1)])]),o("tbody",null,[(h(!0),y(Z,null,H(s.data,(t,U)=>{var B;return h(),y("tr",{class:"table-row-transcript-index23",key:t==null?void 0:t.id},[o("td",null,e((s.current_page-1)*s.per_page+U+1),1),o("td",null,[o("div",null,[_(e(t==null?void 0:t.full_name)+" ",1),Us,o("span",Is,e(t==null?void 0:t.id),1)])]),o("td",null,[o("div",null,[_(e(t==null?void 0:t.edu_type),1),Ls,o("span",Ss,e(t==null?void 0:t.edu_form),1)])]),o("td",null,[o("div",null,[_(e(t==null?void 0:t.specialty),1),zs,o("span",js,e((B=t==null?void 0:t.specialty)==null?void 0:B.code),1)])]),o("td",null,[o("div",null,[_(e(t==null?void 0:t.academic_group),1),Vs,o("span",qs,e(t==null?void 0:t.specialty),1)])]),o("td",null,[o("div",null,[_(e(t==null?void 0:t.number)+" ",1),As,o("span",Ms,e(t==null?void 0:t.given_date),1)])]),o("td",null,[o("div",Rs,[a(u,{class:"btns c-save py-1 px-2 me-2",to:"/archive/transcript/edit?student_id="+(t==null?void 0:t.id)},{default:c(()=>[Zs,_(" "+e(l.$t("Create")),1)]),_:2},1032,["to"])])])])}),128))])]),s.last_page>1?(h(),J(E,K({key:0,class:"mt-2"},{...s},{"current-page":s.current_page,"onUpdate:currentPage":i[5]||(i[5]=t=>s.current_page=t)}),null,16,["current-page"])):Q("",!0)])):(h(),y("div",Hs,[o("h5",Js,e(l.$t("No_data")),1),o("p",Ks,e(l.$t("No_information_found")),1)]))])]),o("span",Qs,e(s==null?void 0:s.current_page)+"-"+e((s==null?void 0:s.data.length)+s.per_page*((s==null?void 0:s.current_page)-1))+"/ "+e(l.$t("Total_Point"))+": "+e(s==null?void 0:s.total),1)])])])}}});export{io as default};
