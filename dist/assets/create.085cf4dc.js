import{_ as M}from"./Pagination.f4a9fc5d.js";import{_ as V}from"./LoadingOverlay.vue_vue_type_script_setup_true_lang.89ce9ad6.js";/* empty css                                                       */import{d as A,h as R,c as Z,a as x,bO as H,B as F,Z as G,bq as J,y as K,w as f,i as h,b6 as Q,o as r,e as p,f as e,t as l,j as i,k as c,z as v,bs as W,v as X,g,s as T,l as k,F as Y,r as ee,aR as ae}from"./index.3390162f.js";import{e as te,b as oe}from"./index.30e99442.js";import{e as se,b as le}from"./id.5a6e5f30.js";import{a as ie}from"./graph.0eb60427.js";import{h as de}from"./helper.569bc08f.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./vue.runtime.esm-bundler.84001772.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";const ne={pagetitle:"`Shaxsiy grafik qo'shish`",class:"diploma-list"},ce={class:"card panel-header-bg"},re={class:"card-body"},_e={class:"panel-header"},ue={class:"card-title"},pe={class:"panel-toggles"},me={class:"btns black-c me-2 py-1.5 px-4",type:"submit"},he=e("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),fe={class:"filterBlock"},ye={class:"btns c-filter py-1.5 px-4"},ve=e("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),ge={class:"collapse__block"},be={class:"my-2 col-xl-3 form--item"},we={for:"yu"},$e={class:"my-2 col-xl-3 form--item"},ke={for:"yu"},Oe={class:"my-2 col-xl-3 form--item"},Ce={class:"my-2 col-xl-3 form--item"},Pe={for:"yu"},Ne={class:"my-2 col-xl-3 form--item"},Se={for:"yu"},Be={class:"my-2 col-xl-6 form--item"},Fe={for:"yu"},Ge={class:"my-2 col-xl-3"},Te={type:"submit",class:"btn-search search-color"},Le=e("i",{class:"mdi mdi-magnify font-size-14 align-middle me-1"},null,-1),Ue={class:"row table-division"},Ie={class:"col-xl-12"},Ee={class:"card"},ze={class:"card-body"},De={key:1,class:"table-responsive"},je={class:"content-table"},qe={class:"table-row-all-graph-create"},Me=e("th",null,"#",-1),Ve={class:"action__td"},Ae=e("i",{class:"mdi mdi-plus"},null,-1),Re={key:2},Ze={class:"text-center"},xe={class:"text-center"},He={key:0,class:"element-count mb-2"},da=A({__name:"create",async setup(Je){let O,C;const b=R(),L=Z(()=>{var t,o;return(o=(t=b==null?void 0:b.user)==null?void 0:t.faculty)==null?void 0:o.name}),{t:y}=x();H();const w=F(!1),a=G({search:"",edu_plan_id:null,edu_type_id:null,academic_group_id:null,edu_form_id:null,data:[],links:[],current_page:1,per_page:de.pagePer}),d=G({eduTypeOptions:null,eduFormOptions:null,eduPlanOptions:null,academicGroupOptions:null}),$=F(!0);[O,C]=J(()=>u()),await O,C(),K(async()=>{d.eduTypeOptions=await te().then(t=>t.result),d.eduFormOptions=await oe().then(t=>t.result)}),f(()=>a.edu_type_id,async t=>{await u()}),f(()=>a.edu_form_id,async t=>{a.edu_plan_id=null,d.eduPlanOptions=null,t&&(d.eduPlanOptions=await se(t).then(o=>o.result.data)),await u()}),f(()=>a.edu_plan_id,async t=>{var o;if(a.academic_group_id=null,d.academicGroupOptions=null,await u(),t){let n=await le(t);d.academicGroupOptions=(o=n==null?void 0:n.result)==null?void 0:o.data.map(_=>({id:_.id,name:_.name}))}}),f(()=>a.academic_group_id,async()=>{await u()}),f(()=>a.current_page,async t=>{Number(t)&&await u(t)});async function U(){await u()}async function u(t){let o={page:t||1,per_page:a.per_page};a.search&&(o.search=a.search),a.edu_type_id&&(o.edu_type_id=a.edu_type_id),a.edu_form_id&&(o.edu_form_id=a.edu_form_id),a.edu_plan_id&&(o.edu_plan_id=a.edu_plan_id),a.academic_group_id&&(o.academic_group_id=a.academic_group_id),w.value=!0;try{if($.value){$.value=!1;const n=await ie(o);Object.assign(a,n.result),setTimeout(()=>{$.value=!0},100)}}catch(n){console.log(n)}finally{w.value=!1}}return(t,o)=>{const n=h("router-link"),_=h("a-select"),m=h("a-space"),I=h("a-input"),E=h("b-card"),z=h("b-collapse"),D=V,j=M,q=Q("b-toggle");return r(),p("div",ne,[e("div",ce,[e("div",re,[e("div",_e,[e("h5",ue,l(t.$t("Performance_Ptt_Edit")),1),e("div",pe,[i(n,{to:"/performance/graphic"},{default:c(()=>[e("button",me,[he,v(l(t.$t("Back")),1)])]),_:1}),e("div",fe,[W((r(),p("button",ye,[ve,v(l(t.$t("Filter")),1)])),[[q,void 0,void 0,{"collapse-3":!0}]])])])])])]),e("div",ge,[i(z,{visible:"",id:"collapse-3"},{default:c(()=>[i(E,null,{default:c(()=>[e("form",{onSubmit:X(U,["prevent"]),class:"row"},[e("div",be,[i(m,null,{default:c(()=>[i(_,{class:"form--item",value:L.value,disabled:""},null,8,["value"])]),_:1}),e("label",we,l(t.$t("Choose_faculty")),1)]),e("div",$e,[i(m,null,{default:c(()=>[i(_,{"allow-clear":"",value:a.edu_type_id,"onUpdate:value":o[0]||(o[0]=s=>a.edu_type_id=s),"field-names":{value:"id",label:"name"},options:d.eduTypeOptions,placeholder:g(y)("Choose")},null,8,["value","options","placeholder"])]),_:1}),e("label",ke,l(t.$t("Choose_Education_Type")),1)]),e("div",Oe,[i(m,null,{default:c(()=>[i(_,{"allow-clear":"",value:a.edu_form_id,"onUpdate:value":o[1]||(o[1]=s=>a.edu_form_id=s),"field-names":{value:"id",label:"name"},options:d.eduFormOptions,placeholder:g(y)("Choose")},null,8,["value","options","placeholder"])]),_:1}),e("label",null,l(t.$t("Choose_Education_Form")),1)]),e("div",Ce,[i(m,null,{default:c(()=>[i(_,{"allow-clear":"",value:a.edu_plan_id,"onUpdate:value":o[2]||(o[2]=s=>a.edu_plan_id=s),"field-names":{value:"id",label:"name"},disabled:!a.edu_form_id,options:d.eduPlanOptions,placeholder:g(y)("Choose")},null,8,["value","disabled","options","placeholder"])]),_:1}),e("label",Pe,l(t.$t("Choose_Curriculum")),1)]),e("div",Ne,[i(m,null,{default:c(()=>[i(_,{"allow-clear":"",value:a.academic_group_id,"onUpdate:value":o[3]||(o[3]=s=>a.academic_group_id=s),disabled:!a.edu_plan_id,"field-names":{value:"id",label:"name"},options:d.academicGroupOptions,placeholder:g(y)("Choose")},null,8,["value","disabled","options","placeholder"])]),_:1}),e("label",Se,l(t.$t("Choose_Group")),1)]),e("div",Be,[i(m,null,{default:c(()=>[i(I,{value:a.search,"onUpdate:value":o[4]||(o[4]=s=>a.search=s),id:"yu",class:"form-control","allow-clear":""},null,8,["value"])]),_:1}),e("label",Fe,l(t.$t("Search_by_Name_Student_ID_Passport_PIN")),1)]),e("div",Ge,[e("button",Te,[Le,v(l(t.$t("Search")),1)])])],32)]),_:1})]),_:1})]),e("div",Ue,[e("div",Ie,[e("div",Ee,[e("div",ze,[w.value?(r(),T(D,{key:0})):k("",!0),a.data.length?(r(),p("div",De,[e("table",je,[e("thead",null,[e("tr",qe,[Me,e("th",null,l(t.$t("Student")),1),e("th",null,l(t.$t("Education_Type")),1),e("th",null,l(t.$t("by_Specialty")),1),e("th",null,l(t.$t("Group")),1),e("th",null,l(t.$t("action")),1)])]),e("tbody",null,[(r(!0),p(Y,null,ee(a.data,(s,P)=>{var N,S,B;return r(),p("tr",{class:"table-row-all-graph-create",key:P},[e("td",null,l((a.current_page-1)*a.per_page+P+1),1),e("td",null,l(s==null?void 0:s.fullname),1),e("td",null,l((S=(N=s==null?void 0:s.specialty)==null?void 0:N.edu_type)==null?void 0:S.name),1),e("td",null,l((B=s==null?void 0:s.specialty)==null?void 0:B.name),1),e("td",null,l(s==null?void 0:s.academic_group),1),e("td",null,[e("div",Ve,[i(n,{class:"btns c-save py-1 px-2 me-2",to:"/performance/graphic/add?id="+(s==null?void 0:s.id)},{default:c(()=>[Ae,v(" "+l(t.$t("add")),1)]),_:2},1032,["to"])])])])}),128))])]),a.last_page>1?(r(),T(j,ae({key:0,class:"mt-2"},{...a},{"current-page":a.current_page,"onUpdate:currentPage":o[5]||(o[5]=s=>a.current_page=s)}),null,16,["current-page"])):k("",!0)])):(r(),p("div",Re,[e("h5",Ze,l(t.$t("No_data")),1),e("p",xe,l(t.$t("No_information_found")),1)]))])])])]),a.data.length?(r(),p("span",He,l(a.current_page)+"-"+l((a==null?void 0:a.data.length)+a.per_page*(a.current_page-1))+"/ "+l(t.$t("Total_Point"))+": "+l(a.total),1)):k("",!0)])}}});export{da as default};
