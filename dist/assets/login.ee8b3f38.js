import{d as $,h as L,a as B,B as N,u as x,n as C,bO as O,Z as P,o as v,e as w,f as s,t as a,v as j,q as y,l as z,z as E,p as R,m as U}from"./index.3390162f.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const q="/assets/Logo-Type-sRGB-PNG.80b18221.png",d=n=>(R("data-v-b7a6b7de"),n=n(),U(),n),D={class:"loginPage"},G={class:"loginContent"},T={class:"card login-page-form"},F={class:"card mb-0"},M={class:"card-body"},W={class:"auth-full-page-content rounded d-flex p-3 my-2"},Z={class:"w-100"},A={class:"d-flex flex-column"},H=d(()=>s("div",{class:"d-block auth-logo mb-4"},[s("img",{src:q,alt:"",height:"50",class:"auth-logo-dark me-start"})],-1)),J={class:"auth-content my-auto"},K={class:"text-center"},Q={class:"mb-0"},X={class:"form-floating form-floating-custom mb-4"},Y=["placeholder"],ss={for:"input-username"},es=d(()=>s("div",{class:"form-floating-icon"},[s("i",{class:"mdi mdi-account-multiple-outline"})],-1)),ts={class:"invalid-feedback animated fadeIn"},os={class:"form-floating form-floating-custom mb-4 auth-pass-inputgroup"},as=["placeholder"],ns=d(()=>s("button",{type:"button",class:"btn btn-link position-absolute h-100 end-0 top-0",id:"password-addon"},null,-1)),is={for:"password-input"},ds=d(()=>s("div",{class:"form-floating-icon"},[s("i",{class:"mdi mdi-lock-outline",size:"1.5rem"})],-1)),cs={class:"invalid-feedback animated fadeIn"},rs={class:"mb-3"},ls=["disabled"],us={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ms=$({__name:"login",setup(n){const l=L(),{t:I}=B(),i=N(!1),c=x(),k=C(),u=O(),m=k.query.redirect,e=P({username:"",password:"",message:""});l.isLoggedIn&&c.push("/");const S=async t=>{var r,p,h,f,g,b;try{i.value=!0,Object.assign(e,{username:"",password:"",message:""});const o=Object.fromEntries(new FormData(t.target));await l.loginUser(o),u.success(`${I("Welcome_back")} ${o.username}`),m?c.push(m):c.push("/")}catch(o){typeof((r=o.response)==null?void 0:r.data.message)=="string"?(e.message=(p=o.response)==null?void 0:p.data.message,u.error((f=(h=o.response)==null?void 0:h.data)==null?void 0:f.message)):Object.assign(e,(b=(g=o.response)==null?void 0:g.data)==null?void 0:b.message)}finally{i.value=!1}};function _(t){e[t.target.name]=""}return(t,r)=>(v(),w("div",D,[s("div",G,[s("div",T,[s("div",F,[s("div",M,[s("div",W,[s("div",Z,[s("div",A,[H,s("div",J,[s("div",K,[s("h5",Q,a(t.$t("Login_title")),1)]),s("form",{class:"mt-4 pt-2",onSubmit:j(S,["prevent"])},[s("div",X,[s("input",{type:"text",class:y(["form-control",{"is-invalid":e.username||e.message}]),name:"username",placeholder:t.$t("Username"),autocomplete:"username",onInput:_},null,42,Y),s("label",ss,a(t.$t("Login")),1),es,s("div",ts,a(e.username[0]),1)]),s("div",os,[s("input",{type:"password",class:y(["form-control pe-5",{"is-invalid":e.password||e.message}]),id:"password-input",name:"password",placeholder:t.$t("Password"),autocomplete:"current-password",onInput:_},null,42,as),ns,s("label",is,a(t.$t("Password")),1),ds,s("div",cs,a(e.password[0]),1)]),s("div",rs,[s("button",{class:"btn btn-sign-in w-100 waves-effect waves-light",type:"submit",disabled:i.value},[i.value?(v(),w("span",us)):z("",!0),E(" "+a(t.$t("Sign_In")),1)],8,ls)])],32)])])])])])])])])]))}});const hs=V(ms,[["__scopeId","data-v-b7a6b7de"]]);export{hs as default};
