import{d as g,a as $,B as w,i as V,o as d,e as c,f as a,s as k,l as E,t as o,F as U,r as B,j as r,bO as C,Z as L}from"./index.3390162f.js";import{l as N,u as S}from"./careers.0606e984.js";import{_ as D}from"./LoadingOverlay.vue_vue_type_script_setup_true_lang.89ce9ad6.js";/* empty css                                                       */import"./vue.runtime.esm-bundler.84001772.js";const F={class:"card"},T={class:"card-body"},q={class:"table-responsive"},O={class:"content-table"},P={class:"table-row-career"},R=a("th",null,"#",-1),j={key:0},x=["onClick"],A={key:1},I={colspan:"4",class:"d-flex flex-column"},K={class:"text-center"},M={class:"text-center mb-0"},h=g({__name:"TableCareerPoints",props:{tableData:null,isLoading:null},emits:["openFormModal","onRemove","updateStatus","updateElelemntValue"],setup(u,{emit:v}){$();const f=v;w();function l(t){f("updateElelemntValue",t)}return(t,m)=>{var e;const i=D,s=V("a-input");return d(),c("div",null,[a("div",F,[a("div",T,[u.isLoading?(d(),k(i,{key:0})):E("",!0),a("div",q,[a("table",O,[a("thead",null,[a("tr",P,[R,a("th",null,o(u.tableData.name),1),a("th",null,o(t.$t("Score")),1),a("th",null,o(t.$t("Save")),1)])]),((e=u.tableData.data)==null?void 0:e.length)>0?(d(),c("tbody",j,[(d(!0),c(U,null,B(u.tableData.data,(n,_)=>(d(),c("tr",{class:"table-row-career",key:_},[a("td",null,o(_+1),1),a("td",null,o(n.name),1),a("td",null,[r(s,{type:"number",value:n.value,"onUpdate:value":p=>n.value=p},null,8,["value","onUpdate:value"])]),a("td",null,[a("button",{class:"btns c-save py-1.5 px-4",onClick:p=>l(n)},o(t.$t("Save")),9,x)])]))),128))])):(d(),c("tbody",A,[a("tr",null,[a("td",I,[a("h5",K,o(t.$t("No_data")),1),a("p",M,o(t.$t("There_is_no_data_that_match_your_query")),1)])])]))])])])])])}}}),Z={pagetitle:"'Kordinator'",class:"career_block"},z={class:"card panel-header-bg"},G={class:"card-body"},H={class:"panel-header"},J={class:"card-title py-2"},Q=a("div",{class:"panel-toggles"},[a("div",{class:"filterBlock"})],-1),W={class:"row"},X={class:"col-xl-6"},Y={class:"col-xl-6"},oa=g({__name:"index",setup(u){const{t:v}=$(),f=C(),l=w(!1),t=L({additional:[],scientific_career:[],state_scholarship:[],state_award:[],action:[]});m();async function m(){l.value=!0,t.additional=[],t.scientific_career=[],t.state_scholarship=[],t.state_award=[],t.action=[],(await N()).result.forEach(e=>{var n,_,p,b,y;((n=e.reward_type)==null?void 0:n.code)==="additional"&&t.additional.push(e),((_=e.reward_type)==null?void 0:_.code)==="scientific-career"&&t.scientific_career.push(e),((p=e.reward_type)==null?void 0:p.code)==="state-scholarship"&&t.state_scholarship.push(e),((b=e.reward_type)==null?void 0:b.code)==="state-award"&&t.state_award.push(e),((y=e.reward_type)==null?void 0:y.code)==="action"&&t.action.push(e)}),console.log("sasas",t),l.value=!1}async function i(s){var e;try{l.value=!0,await S(s.id,{name:s.name,reward_type_id:(e=s.reward_type)==null?void 0:e.id,status:s.status,value:s.value,_method:"PUT"}),await m(),f.success(v("Data_stored_successfully"))}catch{f.error(v("Request_failed1"))}finally{l.value=!1}}return(s,e)=>(d(),c("div",Z,[a("div",z,[a("div",G,[a("div",H,[a("h5",J,o(s.$t("points")),1),Q])])]),a("div",W,[a("div",X,[r(h,{"is-loading":l.value,"table-data":{name:s.$t("state_award"),data:t.state_award},onUpdateElelemntValue:i},null,8,["is-loading","table-data"]),r(h,{"is-loading":l.value,"table-data":{name:s.$t("reactions"),data:t.action},onUpdateElelemntValue:i},null,8,["is-loading","table-data"])]),a("div",Y,[r(h,{"is-loading":l.value,"table-data":{name:s.$t("state_scholarship"),data:t.state_scholarship},onUpdateElelemntValue:i},null,8,["is-loading","table-data"]),r(h,{"is-loading":l.value,"table-data":{name:s.$t("scientific_career"),data:t.scientific_career},onUpdateElelemntValue:i},null,8,["is-loading","table-data"]),r(h,{"is-loading":l.value,"table-data":{name:s.$t("Additional"),data:t.additional},onUpdateElelemntValue:i},null,8,["is-loading","table-data"])])])]))}});export{oa as default};
