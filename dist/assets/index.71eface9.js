import{_ as F}from"./Pagination.f4a9fc5d.js";import{S as j}from"./sweetalert2.all.fdef424e.js";import{d as q,h as K,c as M,B as T,a as W,bO as Z,Z as w,y as H,w as h,bq as J,i as f,b6 as Q,o as _,e as u,f as t,t as o,j as l,k as d,z as v,bs as X,F as x,r as tt,s as at,aR as et,l as G}from"./index.3390162f.js";import{a as st,f as ot,e as it,c as lt,m as nt}from"./index.30e99442.js";import{g as dt,c as ct,d as rt}from"./result-dak.5174f300.js";import{k as _t}from"./id.5a6e5f30.js";import"./_plugin-vue_export-helper.cdc0426e.js";const ut={pagetitle:"`DAK natijalari`",class:"dakPage"},pt={class:"card panel-header-bg"},mt={class:"card-body"},ht={class:"panel-header"},yt={class:"card-title"},ft={class:"panel-toggles"},vt=t("i",{class:"mdi mdi-plus font-size-14 align-middle me-1"},null,-1),gt={class:"filterBlock"},bt={class:"btns c-filter py-1.5 px-4"},wt=t("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),kt={class:"collapse__block"},$t={class:"row"},Ct={class:"my-2 col-md-4 form--item"},Ot={for:"yu"},Bt={class:"my-2 col-md-4 form--item"},Dt={for:"yu"},Lt={class:"my-2 col-md-4 form--item"},St={for:"yu"},Tt={class:"my-2 col-md-4 form--item"},Gt={for:"yu"},Nt={class:"my-2 col-md-4 form--item"},Yt={for:"yu"},Et={class:"my-2 col-md-4 form--item"},Ut={class:"row table-division"},Vt={class:"col-md-12"},zt={class:"card"},Pt={class:"card-body"},Rt={key:0,class:"table-responsive"},At={class:"content-table"},It={class:"table-row-dak"},Ft=t("th",null,"#",-1),jt=t("br",null,null,-1),qt={class:"gridjs-td"},Kt={class:"list-inline mb-0"},Mt={class:"list-inline-item"},Wt={class:"edit__project"},Zt=t("i",{class:"mdi mdi-pencil font-size-18 text-primary"},null,-1),Ht={class:"list-inline-item"},Jt={class:"delete__project"},Qt=["onClick"],Xt=t("i",{class:"mdi mdi-delete font-size-18"},null,-1),xt=[Xt],ta={class:"form-check form-switch my-auto"},aa=["checked","disabled","onChange"],ea={key:1},sa={class:"text-center"},oa={class:"text-center mb-0"},ia={key:0,class:"element-count mb-2"},ma=q({__name:"index",async setup(la){let k,$;const g=K(),N=M(()=>{var a,i;return(i=(a=g==null?void 0:g.user)==null?void 0:a.faculty)==null?void 0:i.name});T(null);const{t:r}=W(),C=Z(),b=T(!1);w({});const s=w({academic_year_id:null,department_id:null,edu_type_id:null,specialty_id:null,academic_group_id:null,current_page:1,data:[],links:[],per_page:25}),n=w({academicYearOptions:null,departmentOptions:null,eduTypeOptions:null,specialOptions:null,academicGroupOptions:null});H(async()=>{n.academicYearOptions=await st().then(a=>a.result.data),n.departmentOptions=await ot().then(a=>a.result),n.eduTypeOptions=await it().then(a=>a.result),n.specialOptions=await lt().then(a=>a.result.data.map(i=>({id:i.id,name:i.name+`-(${i.code})`}))),n.academicGroupOptions=await nt().then(a=>a.result.data)}),h(()=>s.academic_year_id,async a=>{await c()}),h(()=>s.department_id,async a=>{await c()}),h(()=>s.edu_type_id,async a=>{await c()}),h(()=>s.specialty_id,async a=>{n.academicGroupOptions=await _t(a).then(i=>i.result.data),await c()}),h(()=>s.academic_group_id,async a=>{await c()}),h(()=>s.current_page,async a=>{Number(a)&&(s.page=Number(a),await c())}),[k,$]=J(()=>c()),await k,$();function Y(a){for(var i in a)(a[i]===null||a[i]===void 0||a[i]==="")&&delete a[i];return a}async function c(){let a={academic_year_id:s.academic_year_id||"",department_id:s.department_id||"",edu_type_id:s.edu_type_id||"",specialty_id:s.specialty_id||"",academic_group_id:s.academic_group_id||""};a=Y(a);const i=await dt(a);Object.assign(s,i.result)}async function E(a){try{b.value=!0,await ct(a),await c(),C.success(r("Data_stored_successfully"))}catch(i){C.error(i.message)}finally{b.value=!1}}async function U(a){const i=j.mixin({customClass:{confirmButton:"btn btn-danger me-2",cancelButton:"btn btn-success"},buttonsStyling:!1});try{(await i.fire({title:r("Delete_message.Are_you_sure"),text:r("Delete_message.Action_irreversible"),icon:"warning",confirmButtonText:r("Delete_message.Yes_Delete"),cancelButtonText:r("Delete_message.Yo_Cancel"),showCancelButton:!0})).isConfirmed&&(await rt(a),await c(),i.fire(r("Delete_message.Removed"),r("Delete_message.Record_deleted_successfull"),"success"))}catch(y){i.fire(r("Dashboard_Error"),y.message,"error")}}return(a,i)=>{const y=f("router-link"),p=f("a-select"),m=f("a-space"),V=f("b-card"),z=f("b-collapse"),P=F,R=Q("b-toggle");return _(),u("div",ut,[t("div",pt,[t("div",mt,[t("div",ht,[t("h5",yt,o(a.$t("certificate_Committee_Result")),1),t("div",ft,[l(y,{to:"/teacher/certificate-committee-result/create",class:"btns c-save py-1.5 px-4 me-3"},{default:d(()=>[vt,v(o(a.$t("Create")),1)]),_:1}),t("div",gt,[X((_(),u("button",bt,[wt,v(o(a.$t("Filter")),1)])),[[R,void 0,void 0,{"collapse-3":!0}]])])])])])]),t("div",kt,[l(z,{visible:"",id:"collapse-3"},{default:d(()=>[l(V,null,{default:d(()=>[t("div",$t,[t("div",Ct,[l(m,null,{default:d(()=>[l(p,{value:s.academic_year_id,"onUpdate:value":i[0]||(i[0]=e=>s.academic_year_id=e),"field-names":{value:"id",label:"name"},options:n.academicYearOptions,"allow-clear":"","show-search":""},null,8,["value","options"])]),_:1}),t("label",Ot,o(a.$t("Choose_Education_Year")),1)]),t("div",Bt,[l(m,null,{default:d(()=>[l(p,{class:"form--item",value:N.value,disabled:""},null,8,["value"])]),_:1}),t("label",Dt,o(a.$t("Choose_faculty")),1)]),t("div",Lt,[l(m,null,{default:d(()=>[l(p,{value:s.department_id,"onUpdate:value":i[1]||(i[1]=e=>s.department_id=e),"field-names":{value:"id",label:"name"},options:n.departmentOptions,"allow-clear":"","show-search":""},null,8,["value","options"])]),_:1}),t("label",St,o(a.$t("Choose_Department")),1)]),t("div",Tt,[l(m,null,{default:d(()=>[l(p,{value:s.edu_type_id,"onUpdate:value":i[2]||(i[2]=e=>s.edu_type_id=e),"field-names":{value:"id",label:"name"},options:n.eduTypeOptions,"allow-clear":"","show-search":""},null,8,["value","options"])]),_:1}),t("label",Gt,o(a.$t("Choose_Education_Type")),1)]),t("div",Nt,[l(m,null,{default:d(()=>[l(p,{value:s.specialty_id,"onUpdate:value":i[3]||(i[3]=e=>s.specialty_id=e),"field-names":{value:"id",label:"name"},options:n.specialOptions,"allow-clear":"","show-search":""},null,8,["value","options"])]),_:1}),t("label",Yt,o(a.$t("select__specialty")),1)]),t("div",Et,[l(m,null,{default:d(()=>[l(p,{value:s.academic_group_id,"onUpdate:value":i[4]||(i[4]=e=>s.academic_group_id=e),"field-names":{value:"id",label:"name"},options:n.academicGroupOptions,"allow-clear":"","show-search":""},null,8,["value","options"])]),_:1}),t("label",null,o(a.$t("Choose_Group")),1)])])]),_:1})]),_:1})]),t("div",Ut,[t("div",Vt,[t("div",zt,[t("div",Pt,[s!=null&&s.data.length?(_(),u("div",Rt,[t("table",At,[t("thead",null,[t("tr",It,[Ft,t("th",null,o(a.$t("Student")),1),t("th",null,o(a.$t("Group")),1),t("th",null,o(a.$t("Education_Type")),1),t("th",null,o(a.$t("by_Specialty")),1),t("th",null,o(a.$t("certificate_Committee")),1),t("th",null,o(a.$t("Order_Number_Date")),1),t("th",null,o(a.$t("Ball_grade")),1),t("th",null,o(a.$t("Education_Year_Name")),1),t("th",null,o(a.$t("action")),1),t("th",null,o(a.$t("Enable")),1)])]),t("tbody",null,[(_(!0),u(x,null,tt(s==null?void 0:s.data,(e,A)=>{var O,B,D,L,S;return _(),u("tr",{class:"table-row-dak",key:e.id},[t("td",null,o((s.current_page-1)*s.per_page+A+1),1),t("td",null,o(e==null?void 0:e.fullname),1),t("td",null,o(e==null?void 0:e.academic_group),1),t("td",null,o((B=(O=e==null?void 0:e.specialty)==null?void 0:O.edu_type)==null?void 0:B.name),1),t("td",null,o((D=e==null?void 0:e.specialty)==null?void 0:D.name),1),t("td",null,o(e.dak),1),t("td",null,[v(o((L=e==null?void 0:e.order)==null?void 0:L.number)+" ",1),jt,v(" "+o((S=e==null?void 0:e.order)==null?void 0:S.date),1)]),t("td",null,o(e==null?void 0:e.mark),1),t("td",null,o(e==null?void 0:e.academic_year),1),t("td",qt,[t("ul",Kt,[t("li",Mt,[t("div",Wt,[l(y,{to:`/teacher/certificate-committee-result/${e==null?void 0:e.id}`},{default:d(()=>[Zt]),_:2},1032,["to"])])]),t("li",Ht,[t("div",Jt,[t("a",{class:"text-danger",type:"danger",onClick:I=>U(e.id)},xt,8,Qt)])])])]),t("td",null,[t("div",ta,[t("input",{class:"form-check-input",type:"checkbox",checked:e.status,disabled:b.value,onChange:I=>E(e.id)},null,40,aa)])])])}),128))])]),s.last_page>1?(_(),at(P,et({key:0,class:"mt-2"},{...s},{"current-page":s.current_page,"onUpdate:currentPage":i[5]||(i[5]=e=>s.current_page=e)}),null,16,["current-page"])):G("",!0)])):(_(),u("div",ea,[t("h5",sa,o(a.$t("No_data")),1),t("p",oa,o(a.$t("No_information_found")),1)]))])]),s.data.length?(_(),u("span",ia,o(s.current_page)+"-"+o(s.data.length+s.per_page*(s.current_page-1))+"/ "+o(a.$t("Total_Point"))+": "+o(s.total),1)):G("",!0)])])])}}});export{ma as default};
