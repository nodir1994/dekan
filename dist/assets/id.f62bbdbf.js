import{_ as M}from"./LoadingOverlay.vue_vue_type_script_setup_true_lang.89ce9ad6.js";/* empty css                                                       */import{d as R,n as Z,a as H,bO as J,B as S,Z as y,bq as Q,y as W,w as P,i as u,b6 as X,o as d,e as n,f as t,j as i,k as _,z as m,t as s,g,bs as Y,s as x,l as V,F as D,r as oo}from"./index.3390162f.js";import{e as to,b as eo}from"./index.30e99442.js";import{j as so,k as ao}from"./list.485ff60c.js";import{h as lo}from"./helper.569bc08f.js";import"./vue.runtime.esm-bundler.84001772.js";import"./sweetalert2.all.fdef424e.js";import"./moment.2cad4b18.js";const io={pagetitle:"'Kordinator guruhlari'",class:"academicGroupPage"},no={class:"card panel-header-bg"},co={class:"card-body"},ro={class:"panel-header"},_o={class:"card-title"},uo={class:"panel-toggles"},po={class:"filterBlock"},ho=t("i",{class:"mdi mdi-arrow-left font-size-14 align-middle me-1 me-1"},null,-1),mo={class:"btns c-filter py-1.5 ms-3 px-4"},fo=t("i",{class:"mdi mdi-filter font-size-14 align-middle me-1"},null,-1),yo={class:"collapse__block"},go={class:"row"},vo={class:"my-2 col-md-6 form--item"},bo={for:"yu"},ko={class:"my-2 col-md-6 form--item"},wo={class:"card"},Co={class:"card-body"},$o={key:1,class:"table-responsive"},Fo={class:"content-table"},No={class:"table-row-academic-group"},Oo=t("th",null,"#",-1),Eo=t("th",null,null,-1),Lo={class:"form-check form-switch my-auto"},To=["checked","disabled","onChange"],Bo={key:2},So={class:"text-center"},Po={class:"text-center"},Vo={key:0,class:"element-count mb-2"},Ho=R({__name:"id",async setup(jo){let v,b;const k=Z(),j=k.params.id,q=k.query.employee,{t:f}=H(),w=J(),c=S(!1),o=y({edu_type_id:null,edu_form_id:null,data:[],links:[],students:[],current_page:1,per_page:lo.pagePer}),p=y({eduTypeOptions:null,eduFormOptions:null});S(!0),[v,b]=Q(()=>h()),await v,b(),W(async()=>{p.eduTypeOptions=await to().then(e=>e.result),p.eduFormOptions=await eo().then(e=>e.result)});async function z(e){try{c.value=!0;let l={academic_group_id:Number(e==null?void 0:e.id),employee_id:+j};e!=null&&e.coordinator&&(l.employee_id=null),await so(l),await h(),w.success(f("Data_stored_successfully"))}catch(l){w.error(l.message)}finally{c.value=!1}}P(()=>[o.edu_form_id,o.edu_type_id],async(e,l)=>{await h()}),P(()=>o.current_page,async e=>{Number(e)&&(o.page=Number(e),await h(e))}),y({});async function h(e){let l={page:o==null?void 0:o.page};e||(l.page=e),o.edu_type_id&&(l.edu_type_id=o==null?void 0:o.edu_type_id),o.edu_form_id&&(l.edu_form_id=o==null?void 0:o.edu_form_id);try{c.value=!0;const r=await ao(l);Object.assign(o,r.result)}catch(r){console.log(r)}finally{c.value=!1}}return(e,l)=>{const r=u("router-link"),C=u("a-select"),$=u("a-space"),A=u("b-card"),G=u("b-collapse"),U=M,I=X("b-toggle");return d(),n("div",io,[t("div",no,[t("div",co,[t("div",ro,[t("h5",_o,[i(r,{to:"/coordinator/list-coordinator"},{default:_(()=>[m(s(e.$t("coordinator_list")),1)]),_:1}),m(" / "+s(g(q)),1)]),t("div",uo,[t("div",po,[i(r,{to:"/coordinator/list-coordinator",class:"btns black-c py-1.5 px-4 d-inline-block"},{default:_(()=>[ho,m(s(e.$t("Prev")),1)]),_:1}),Y((d(),n("button",mo,[fo,m(s(e.$t("Filter")),1)])),[[I,void 0,void 0,{"collapse-3":!0}]])])])])])]),t("div",yo,[i(G,{visible:"",id:"collapse-3"},{default:_(()=>[i(A,null,{default:_(()=>[t("div",go,[t("div",vo,[i($,null,{default:_(()=>[i(C,{"allow-clear":"",value:o.edu_type_id,"onUpdate:value":l[0]||(l[0]=a=>o.edu_type_id=a),"field-names":{value:"id",label:"name"},options:p.eduTypeOptions,placeholder:g(f)("Choose_Education_Type")},null,8,["value","options","placeholder"])]),_:1}),t("label",bo,s(e.$t("Choose_Education_Type")),1)]),t("div",ko,[i($,null,{default:_(()=>[i(C,{"allow-clear":"",value:o.edu_form_id,"onUpdate:value":l[1]||(l[1]=a=>o.edu_form_id=a),"field-names":{value:"id",label:"name"},options:p.eduFormOptions,placeholder:g(f)("Choose_Education_Form")},null,8,["value","options","placeholder"])]),_:1}),t("label",null,s(e.$t("Choose_Education_Form")),1)])])]),_:1})]),_:1})]),t("div",wo,[t("div",Co,[c.value?(d(),x(U,{key:0})):V("",!0),o.data.length?(d(),n("div",$o,[t("table",Fo,[t("thead",null,[t("tr",No,[Oo,Eo,t("th",null,s(e.$t("Group")),1),t("th",null,s(e.$t("by_Specialty")),1),t("th",null,s(e.$t("Education_Type")),1),t("th",null,s(e.$t("Education_Form")),1),t("th",null,s(e.$t("Education_Language")),1)])]),t("tbody",null,[(d(!0),n(D,null,oo(o.data,(a,K)=>{var F,N,O,E,L,T,B;return d(),n("tr",{class:"table-row-academic-group",key:a.id},[t("td",null,s((o.current_page-1)*o.per_page+K+1),1),t("td",null,[t("div",Lo,[t("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:a.coordinator,disabled:c.value,onChange:qo=>z(a)},null,40,To)])]),t("td",null,s(a.name),1),t("td",null,s((N=(F=a==null?void 0:a.edu_plan)==null?void 0:F.specialty)==null?void 0:N.name),1),t("td",null,s((L=(E=(O=a==null?void 0:a.edu_plan)==null?void 0:O.specialty)==null?void 0:E.edu_type)==null?void 0:L.name),1),t("td",null,s((B=(T=a==null?void 0:a.edu_plan)==null?void 0:T.edu_form)==null?void 0:B.name),1),t("td",null,s(a==null?void 0:a.language.name),1)])}),128))])])])):(d(),n("div",Bo,[t("h5",So,s(e.$t("No_data")),1),t("p",Po,s(e.$t("No_information_found")),1)]))])]),o!=null&&o.total?(d(),n("span",Vo,s(o==null?void 0:o.current_page)+"-"+s((o==null?void 0:o.data.length)+o.per_page*((o==null?void 0:o.current_page)-1))+"/ "+s(e.$t("Total_Point"))+": "+s(o==null?void 0:o.total),1)):V("",!0)])}}});export{Ho as default};
